/// <reference path="../app.d.ts" />
var Tomedescontos;
(function (Tomedescontos) {
    var NotifyService = (function () {
        function NotifyService($http, $q) {
            this.$http = $http;
            this.$q = $q;
        }
        NotifyService.prototype.notifyNow = function (title, description, url) {
            OneSignal.sendSelfNotification(
            /* Title (defaults if unset) */
            title, 
            /* Message (defaults if unset) */
            description, 
            /* URL (defaults if unset) */
            url, 
            /* Icon */
            'http://tomedescontos.com/assets/img/tdLogoBackground.png', {
                /* Additional data hash */
                notificationType: 'news-feature'
            });
            this.playSoundNotification();
        };
        NotifyService.prototype.playSoundNotification = function () {
            var sound = document.createElement("audio");
            sound.src = "../../assets/sounds/capisci.mp3";
            sound.setAttribute("preload", "auto");
            sound.setAttribute("controls", "none");
            sound.style.display = "none";
            document.body.appendChild(sound);
            sound.play();
        };
        return NotifyService;
    }());
    Tomedescontos.NotifyService = NotifyService;
})(Tomedescontos || (Tomedescontos = {}));
app.service("NotifyService", ['$http', '$q', Tomedescontos.NotifyService]);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2VzL25vdGlmeS5zZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0NBQW9DO0FBRXBDLElBQU8sYUFBYSxDQTJEbkI7QUEzREQsV0FBTyxhQUFhLEVBQUMsQ0FBQztJQUVsQjtRQUVJLHVCQUFvQixLQUFzQixFQUM5QixFQUFnQjtZQURSLFVBQUssR0FBTCxLQUFLLENBQWlCO1lBQzlCLE9BQUUsR0FBRixFQUFFLENBQWM7UUFFNUIsQ0FBQztRQUVNLGlDQUFTLEdBQWhCLFVBQWlCLEtBQUssRUFBRSxXQUFXLEVBQUUsR0FBRztZQUVwQyxTQUFTLENBQUMsb0JBQW9CO1lBRTFCLCtCQUErQjtZQUMvQixLQUFLO1lBQ0wsaUNBQWlDO1lBQ2pDLFdBQVc7WUFDWCw2QkFBNkI7WUFDN0IsR0FBRztZQUNILFVBQVU7WUFDViwwREFBMEQsRUFDMUQ7Z0JBQ0ksMEJBQTBCO2dCQUMxQixnQkFBZ0IsRUFBRSxjQUFjO2FBQ25DLENBaUJKLENBQUM7WUFFRixJQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQztRQUVqQyxDQUFDO1FBRU0sNkNBQXFCLEdBQTVCO1lBQ0ksSUFBSSxLQUFLLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUM1QyxLQUFLLENBQUMsR0FBRyxHQUFHLGlDQUFpQyxDQUFDO1lBQzlDLEtBQUssQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3JDLEtBQUssQ0FBQyxZQUFZLENBQUMsVUFBVSxFQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3RDLEtBQUssQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztZQUM3QixRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUVsQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDaEIsQ0FBQztRQUVMLG9CQUFDO0lBQUQsQ0F4REEsQUF3REMsSUFBQTtJQXhEWSwyQkFBYSxnQkF3RHpCLENBQUE7QUFDTCxDQUFDLEVBM0RNLGFBQWEsS0FBYixhQUFhLFFBMkRuQjtBQUVELEdBQUcsQ0FBQyxPQUFPLENBQUMsZUFBZSxFQUFFLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxhQUFhLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyIsImZpbGUiOiJzZXJ2aWNlcy9ub3RpZnkuc2VyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2FwcC5kLnRzXCIgLz5cblxubW9kdWxlIFRvbWVkZXNjb250b3Mge1xuXG4gICAgZXhwb3J0IGNsYXNzIE5vdGlmeVNlcnZpY2Uge1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgJGh0dHA6IG5nLklIdHRwU2VydmljZSxcbiAgICAgICAgICAgIHByaXZhdGUgJHE6IG5nLklRU2VydmljZSkge1xuXG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgbm90aWZ5Tm93KHRpdGxlLCBkZXNjcmlwdGlvbiwgdXJsKTogdm9pZCB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIE9uZVNpZ25hbC5zZW5kU2VsZk5vdGlmaWNhdGlvbihcblxuICAgICAgICAgICAgICAgIC8qIFRpdGxlIChkZWZhdWx0cyBpZiB1bnNldCkgKi9cbiAgICAgICAgICAgICAgICB0aXRsZSxcbiAgICAgICAgICAgICAgICAvKiBNZXNzYWdlIChkZWZhdWx0cyBpZiB1bnNldCkgKi9cbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAvKiBVUkwgKGRlZmF1bHRzIGlmIHVuc2V0KSAqL1xuICAgICAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgICAgICAvKiBJY29uICovXG4gICAgICAgICAgICAgICAgJ2h0dHA6Ly90b21lZGVzY29udG9zLmNvbS9hc3NldHMvaW1nL3RkTG9nb0JhY2tncm91bmQucG5nJyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8qIEFkZGl0aW9uYWwgZGF0YSBoYXNoICovXG4gICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvblR5cGU6ICduZXdzLWZlYXR1cmUnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vICxbeyAvKiBCdXR0b25zICovXG4gICAgICAgICAgICAgICAgLy8gICAgIC8qIENob29zZSBhbnkgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHlvdXIgYnV0dG9uLiBUaGUgSUQgb2YgdGhlIGNsaWNrZWQgYnV0dG9uIGlzIHBhc3NlZCB0byB5b3Ugc28geW91IGNhbiBpZGVudGlmeSB3aGljaCBidXR0b24gaXMgY2xpY2tlZCAqL1xuICAgICAgICAgICAgICAgIC8vICAgICBpZDogJ2xpa2UtYnV0dG9uJyxcbiAgICAgICAgICAgICAgICAvLyAgICAgLyogVGhlIHRleHQgdGhlIGJ1dHRvbiBzaG91bGQgZGlzcGxheS4gU3VwcG9ydHMgZW1vamlzLiAqL1xuICAgICAgICAgICAgICAgIC8vICAgICB0ZXh0OiAnTGlrZScsXG4gICAgICAgICAgICAgICAgLy8gICAgIC8qIEEgdmFsaWQgcHVibGljbHkgcmVhY2hhYmxlIFVSTCB0byBhbiBpY29uLiBLZWVwIHRoaXMgc21hbGwgYmVjYXVzZSBpdCdzIGRvd25sb2FkZWQgb24gZWFjaCBub3RpZmljYXRpb24gZGlzcGxheS4gKi9cbiAgICAgICAgICAgICAgICAvLyAgICAgaWNvbjogJ2h0dHA6Ly9pLmltZ3VyLmNvbS9OOFNOOFpTLnBuZycsXG4gICAgICAgICAgICAgICAgLy8gICAgIC8qIFRoZSBVUkwgdG8gb3BlbiB3aGVuIHRoaXMgYWN0aW9uIGJ1dHRvbiBpcyBjbGlja2VkLiBTZWUgdGhlIHNlY3Rpb25zIGJlbG93IGZvciBzcGVjaWFsIFVSTHMgdGhhdCBwcmV2ZW50IG9wZW5pbmcgYW55IHdpbmRvdy4gKi9cbiAgICAgICAgICAgICAgICAvLyAgICAgdXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS8/X29zcD1kb19ub3Rfb3BlbidcbiAgICAgICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgaWQ6ICdyZWFkLW1vcmUtYnV0dG9uJyxcbiAgICAgICAgICAgICAgICAvLyAgICAgdGV4dDogJ1JlYWQgbW9yZScsXG4gICAgICAgICAgICAgICAgLy8gICAgIGljb246ICdodHRwOi8vaS5pbWd1ci5jb20vTUl4SnAxTC5wbmcnLFxuICAgICAgICAgICAgICAgIC8vICAgICB1cmw6ICdodHRwczovL2V4YW1wbGUuY29tLz9fb3NwPWRvX25vdF9vcGVuJ1xuICAgICAgICAgICAgICAgIC8vIH1dXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnBsYXlTb3VuZE5vdGlmaWNhdGlvbigpO1xuXG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcGxheVNvdW5kTm90aWZpY2F0aW9uKCk6IHZvaWQge1xuICAgICAgICAgICAgdmFyIHNvdW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImF1ZGlvXCIpO1xuICAgICAgICAgICAgc291bmQuc3JjID0gXCIuLi8uLi9hc3NldHMvc291bmRzL2NhcGlzY2kubXAzXCI7XG4gICAgICAgICAgICBzb3VuZC5zZXRBdHRyaWJ1dGUoXCJwcmVsb2FkXCIsXCJhdXRvXCIpO1xuICAgICAgICAgICAgc291bmQuc2V0QXR0cmlidXRlKFwiY29udHJvbHNcIixcIm5vbmVcIik7XG4gICAgICAgICAgICBzb3VuZC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNvdW5kKTtcblxuICAgICAgICAgICBzb3VuZC5wbGF5KCk7XG4gICAgICAgIH1cblxuICAgIH1cbn1cblxuYXBwLnNlcnZpY2UoXCJOb3RpZnlTZXJ2aWNlXCIsIFsnJGh0dHAnLCAnJHEnLCBUb21lZGVzY29udG9zLk5vdGlmeVNlcnZpY2VdKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
