var app=angular.module("tomedescontos",["ui.router","pascalprecht.translate","angularMoment"]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS50cyIsIm1vZHVsZS5qcyJdLCJuYW1lcyI6WyJhcHAiLCJhbmd1bGFyIiwibW9kdWxlIl0sIm1hcHBpbmdzIjoiQUFDQSxHQUFJQSxLQUFNQyxRQUFRQyxPQUFPLGlCQ0NyQixZQUNBLHlCQUNBIiwiZmlsZSI6Im1vZHVsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJhcHAuZC50c1wiIC8+XHJcbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgndG9tZWRlc2NvbnRvcycsIFsndWkucm91dGVyJywgJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnLCAnYW5ndWxhck1vbWVudCddKTsiLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiYXBwLmQudHNcIiAvPlxudmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCd0b21lZGVzY29udG9zJywgW1xuICAgICd1aS5yb3V0ZXInLFxuICAgICdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJyxcbiAgICAnYW5ndWxhck1vbWVudCdcbiAgXSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

var Tomedescontos;!function(Tomedescontos){app.config(function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/promocoes"),$stateProvider.state("promo",{url:"/promocoes",templateUrl:"assets/pages/templates/promolist.tpl.html"})})}(Tomedescontos||(Tomedescontos={}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlcy50cyIsInJvdXRlcy5qcyJdLCJuYW1lcyI6WyJUb21lZGVzY29udG9zIiwiYXBwIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIl0sIm1hcHBpbmdzIjoiQUFFQSxHQUFPQSxnQkFBUCxTQUFPQSxlQ0NMQyxJREFEQyxPQUFJLFNBQU9DLGVBQXVCQyxvQkNDL0JBLG1CREFJQyxVQUFtQixjQ0N2QkYsZURDSUcsTUFBYyxTQ0FoQkMsSUFBSyxhQUNMQyxZREtlLGlEQ0ZuQlIsZ0JES0lBIiwiZmlsZSI6InJvdXRlcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJhcHAuZC50c1wiIC8+XG5cbm1vZHVsZSBUb21lZGVzY29udG9zIHtcblx0YXBwLmNvbmZpZyhmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKXtcbiAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL3Byb21vY29lcycpO1xuICAgICAgICBcbiAgICAgICAgJHN0YXRlUHJvdmlkZXJcbiAgICAgICAgICAgIC8vIC5zdGF0ZSgnaW5kZXgnLCB7XG4gICAgICAgICAgICAvLyAgICAgdXJsOiBcIi9ob21lXCIsXG4gICAgICAgICAgICAvLyAgICAgdGVtcGxhdGVVcmw6IFwiYXNzZXRzL3BhZ2VzL3RlbXBsYXRlcy9tYWluLnRwbC5odG1sXCJcbiAgICAgICAgICAgIC8vIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ3Byb21vJywge1xuICAgICAgICAgICAgICAgIHVybDogXCIvcHJvbW9jb2VzXCIsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiYXNzZXRzL3BhZ2VzL3RlbXBsYXRlcy9wcm9tb2xpc3QudHBsLmh0bWxcIlxuICAgICAgICAgICAgfSlcbiAgICB9KVxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJhcHAuZC50c1wiIC8+XG52YXIgVG9tZWRlc2NvbnRvcztcbihmdW5jdGlvbiAoVG9tZWRlc2NvbnRvcykge1xuICBhcHAuY29uZmlnKGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XG4gICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL3Byb21vY29lcycpO1xuICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdwcm9tbycsIHtcbiAgICAgIHVybDogJy9wcm9tb2NvZXMnLFxuICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvcGFnZXMvdGVtcGxhdGVzL3Byb21vbGlzdC50cGwuaHRtbCdcbiAgICB9KTtcbiAgfSk7XG59KFRvbWVkZXNjb250b3MgfHwgKFRvbWVkZXNjb250b3MgPSB7fSkpKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

var Tomedescontos;!function(Tomedescontos){var PromoController=function(){function PromoController($scope,$http,$timeout,$interval,$q,$translate,promoService,notifyService){var _this=this;this.$scope=$scope,this.$http=$http,this.$timeout=$timeout,this.$interval=$interval,this.$q=$q,this.$translate=$translate,this.promoService=promoService,this.notifyService=notifyService,addToHomescreen.removeSession(),addToHomescreen({modal:!0,maxDisplayCount:1,skipFirstVisit:!0}),this.alertMe=!1,this.aux=[],this.suggestedItems=[{name:"Smartphone",color:"red"},{name:"Livro",color:"purple"},{name:"Sofá",color:"blue"},{name:"Tênis",color:"orange"},{name:"Relógio",color:"grey"},{name:"Perfume",color:"brown"},{name:"Geladeira",color:"green"}],$(".alertMe").checkbox({onChecked:function(){_this.alertIsOn=!0,_this.notifyService.notifyNow("TomeDescontos - Modo de Alerta Ativado!","Você ativou o modo de alerta para o produto ["+_this.query+"]. Iremos lhe notificar assim que encontrarmos uma promoção.","http://tomdescontos.com")},onUnchecked:function(){_this.alertIsOn=!1}}),$(".help.alert").popup({title:'Ative a função "Alerte-me!" caso você não tenha encontrado ainda uma promoção para o produto que está procurando ou deseje monitorá-lo para encontrar um preço ainda mais baixo.'}),this.promoService.pesquisar().then(function(data){_this.promotions=data}),this.updatePromoList()}return PromoController.prototype.updatePromoList=function(){var _this=this;this.$interval(function(){_this.promoService.pesquisar().then(function(data){_this.promotions=data,_this.showProductNotification()})},2e4)},PromoController.prototype.setTagColor=function(color){return"ui "+color+" basic tiny button"},PromoController.prototype.searchSuggestedItem=function(item){$("#findProduct").val(item),this.query=item},PromoController.prototype.turnNotificationOn=function(){var chck=Notification.permission;"denied"===chck||"default"===chck?(Notification.requestPermission(function(permission){n=new Notification("Alerta TomeDescontos!",{body:"Opa! Fica ligado, pois este alerta aparecerá quando surgir uma nova promoção para o seu produto!",icon:"../../assets/img/tdLogoBackground.png"})}),this.alertIsOn=!0,this.playSoundNotification()):"unknown"===chck?alert("Oh! Seu browser não suporta essa funcionalidade! ;("):this.alertIsOn=!0},PromoController.prototype.showProductNotification=function(){var _this=this;if(this.aux.length>0){var result=[];result=this.promotions.filter(function(mainList){return 0===_this.aux.filter(function(auxList){return mainList.title===auxList.title}).length});for(var i=0;i<this.promotions.length;i++)for(var j=0;j<result.length;j++)this.promotions[i].title===result[j].title?this.promotions[i]["new"]=!0:this.promotions[i]["new"]=!1;this.showNotification(result),this.aux=this.promotions.slice()}else this.aux=this.promotions.slice()},PromoController.prototype.showNotification=function(listOfNewPromotions){if(console.log("produto buscado: "+this.query+" num. novas prom.: "+listOfNewPromotions.length+" alerta status: "+this.alertIsOn),this.query&&listOfNewPromotions.length>0&&this.alertIsOn)for(var i=0,x=listOfNewPromotions.length;x>i;i++)if(-1!==listOfNewPromotions[i].title.indexOf(this.query)){this.notifyService.notifyNow("TomeDescontos - Promoção Encontrada!","Opa! Encontramos uma nova promoção para ["+this.query+"]! Corre lá e aproveita!","http://tomdescontos.com"),this.playSoundNotification();break}},PromoController.prototype.playSoundNotification=function(){var sound=document.createElement("audio");sound.src="../../assets/sounds/capisci.mp3",sound.setAttribute("preload","auto"),sound.setAttribute("controls","none"),sound.style.display="none",document.body.appendChild(sound),sound.play()},PromoController}();Tomedescontos.PromoController=PromoController}(Tomedescontos||(Tomedescontos={})),app.controller("PromoController",["$scope","$http","$timeout","$interval","$q","$translate","PromoService","NotifyService",Tomedescontos.PromoController]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb21vTGlzdC9wcm9tb0xpc3QuY3RyLnRzIiwicHJvbW9MaXN0L3Byb21vTGlzdC5jdHIuanMiXSwibmFtZXMiOlsiVG9tZWRlc2NvbnRvcyIsIlByb21vQ29udHJvbGxlciIsIiRzY29wZSIsIiRodHRwIiwiJHRpbWVvdXQiLCIkaW50ZXJ2YWwiLCIkcSIsIiR0cmFuc2xhdGUiLCJwcm9tb1NlcnZpY2UiLCJub3RpZnlTZXJ2aWNlIiwiX3RoaXMiLCJ0aGlzIiwiYWRkVG9Ib21lc2NyZWVuIiwicmVtb3ZlU2Vzc2lvbiIsIm1vZGFsIiwibWF4RGlzcGxheUNvdW50Iiwic2tpcEZpcnN0VmlzaXQiLCJhbGVydE1lIiwiYXV4Iiwic3VnZ2VzdGVkSXRlbXMiLCJuYW1lIiwiY29sb3IiLCIkIiwiY2hlY2tib3giLCJvbkNoZWNrZWQiLCJhbGVydElzT24iLCJub3RpZnlOb3ciLCJxdWVyeSIsIm9uVW5jaGVja2VkIiwicG9wdXAiLCJ0aXRsZSIsInBlc3F1aXNhciIsInRoZW4iLCJkYXRhIiwicHJvbW90aW9ucyIsInVwZGF0ZVByb21vTGlzdCIsInByb3RvdHlwZSIsInNob3dQcm9kdWN0Tm90aWZpY2F0aW9uIiwic2V0VGFnQ29sb3IiLCJzZWFyY2hTdWdnZXN0ZWRJdGVtIiwiaXRlbSIsInZhbCIsInR1cm5Ob3RpZmljYXRpb25PbiIsImNoY2siLCJOb3RpZmljYXRpb24iLCJwZXJtaXNzaW9uIiwicmVxdWVzdFBlcm1pc3Npb24iLCJuIiwiYm9keSIsImljb24iLCJwbGF5U291bmROb3RpZmljYXRpb24iLCJhbGVydCIsImxlbmd0aCIsInJlc3VsdCIsImZpbHRlciIsIm1haW5MaXN0IiwiYXV4TGlzdCIsImkiLCJqIiwic2hvd05vdGlmaWNhdGlvbiIsInNsaWNlIiwibGlzdE9mTmV3UHJvbW90aW9ucyIsImNvbnNvbGUiLCJsb2ciLCJ4IiwiaW5kZXhPZiIsInNvdW5kIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3JjIiwic2V0QXR0cmlidXRlIiwic3R5bGUiLCJkaXNwbGF5IiwiYXBwZW5kQ2hpbGQiLCJwbGF5IiwiYXBwIiwiY29udHJvbGxlciJdLCJtYXBwaW5ncyI6IkFBRUEsR0FBT0EsZ0JBQVAsU0FBT0EsZUNDTCxHRENFQyxpQkFBQSxXQ0FFLFFEWUVBLGlCQUFBQyxPQUFxQ0MsTUFDSEMsU0FDTUMsVUFDRUMsR0FDZEMsV0FDMEJDLGFBQ2hCQyxlQ2pCdEMsR0RESkMsT0FBQUMsSUNFSUEsTURVb0JULE9BQUFBLE9DVHBCUyxLRFVZUixNQUFBQSxNQ1RaUSxLRFVZUCxTQUFBQSxTQ1RaTyxLRFVZTixVQUFBQSxVQ1RaTSxLRFVZTCxHQUFBQSxHQ1RaSyxLRFVZSixXQUFBQSxXQ1RaSSxLRFVZSCxhQUFBQSxhQ1RaRyxLRFVZRixjQUFBQSxjQ1JaRyxnQkRXSUMsZ0JDVkpELGlCQUNFRSxPRFdNLEVDVk5DLGdCRFdNLEVDVk5DLGdCRFdNLElDVFJMLEtEWUlNLFNBQUssRUNYVE4sS0RZSU8sT0NWSlAsS0RZSVEsaUJDVkFDLEtEWUssYUNYTEMsTURZSyxRQ1RMRCxLRFlLLFFDWExDLE1EWUssV0NUTEQsS0RhSSxPQ1pKQyxNQUFPLFNBR1BELEtEaUJLLFFDaEJMQyxNRGlCSSxXQ2RKRCxLRGlCRyxVQUVIQyxNQUFFLFNDZkZELEtBQU0sVUFDTkMsTURrQkcsVUFJSEQsS0FBRyxZQUVIQyxNQUFLLFVDakJUQyxFQUFFLFlEcUJGQyxVQ3BCRUMsVURxQk8sV0NuQkxkLE1BQU1lLFdEcUJPLEVDcEJiZixNQUFNRCxjRHFCT2lCLFVBQUEsMENBQTBCLGdEQUFBaEIsTUFBQWlCLE1BQUEsK0RBQUEsNEJDbkJ6Q0MsWURxQlksV0FDYmxCLE1BQUFlLFdBQUEsS0FJREgsRUFBQyxlQUFBTyxPQUFBQyxNQUFBLHFMQUVNbkIsS0FBQUgsYUFBQXVCLFlBQUFDLEtBQUEsU0FBbUJDLE1DdEJ4QnZCLE1EdUJJd0IsV0FBZUQsT0FFckJ0QixLQUFDd0Isa0JDa0dILE1BdkhBbEMsaUJBQWdCbUMsVUFBVUQsZ0JBQWtCLFdBQzFDLEdBQUl6QixPQUFRQyxJQUNaQSxNQUFLTixVQUFVLFdEMEJSSyxNQUFBRixhQUFBdUIsWUFBQUMsS0FBQSxTQUFQQyxNQUNJdkIsTUFBSXdCLFdBQU9ELEtBQ1h2QixNQUFJMkIsNkJDdkJMLE1BRUxwQyxnQkFBZ0JtQyxVRDBCU0UsWUFBQSxTQUFBakIsT0N6QnZCLE1BQU8sTUQwQlFBLE1BQUEsc0JDeEJqQnBCLGdCRDJCVW1DLFVBQUFHLG9CQUFBLFNBQStDQyxNQzFCdkRsQixFQUFFLGdCRDJCV21CLElBQVNELE1DMUJ0QjdCLEtBQUtnQixNRDRCR2EsTUN0QlZ2QyxnQkQyQmNtQyxVQUFBTSxtQkFBQSxXQzFCWixHQUFJQyxNRDBCUUMsYUFBY0MsVUFBUyxZQUFERixNQUFDLFlBQUFBLE1BQ2xDQyxhQUFBRSxrQkFBQSxTQUFBRCxZQUVIRSxFQUFBLEdBQUFILGNBQUEseUJDekJRSSxLQUFNLG1HQUNOQyxLQUFNLDRDQUlWdEMsS0R5QkljLFdBQVUsRUN2QmRkLEtBQUt1Qyx5QkFDYSxZQUFUUCxLQUNUUSxNQUFNLHVEQUVOeEMsS0FBS2MsV0QwQlksR0NuQnJCeEIsZ0JBQWdCbUMsVUFBVUMsd0JBQTBCLFdBQ2xELEdBQUkzQixPQUFRQyxJQUNaLElBQUlBLEtBQUtPLElBQUlrQyxPRDRCTSxFQUFLLENDM0J0QixHQUFJQyxVQUlKQSxRQUFTMUMsS0R5QmdEdUIsV0FBQ29CLE9BQUEsU0FBQUMsVUN4QnhELE1ENEJJLEtDNUJHN0MsTUR5QkVRLElBQUFvQyxPQUFBLFNBQUFFLFNDeEJQLE1EeUJHRCxVQUFBekIsUUFBQTBCLFFBQUExQixRQ3hCRnNCLFFBRUwsS0FBSyxHRDBCSUssR0FBQSxFQUFBQSxFQUFBOUMsS0FBQXVCLFdBQUFrQixPQUFBSyxJQ3pCUCxJRDBCSSxHQUFLQyxHQUFBLEVBQUFBLEVBQUFMLE9BQWlCRCxPQUFRTSxJQ3RCNUIvQyxLRDJCQ3VCLFdBQUF1QixHQUFBM0IsUUFBQXVCLE9BQUFLLEdBQUE1QixNQUNIbkIsS0FBS3VCLFdBQVd1QixHQUFBLFFBQVcsRUFDekI5QyxLQUFFdUIsV0FBQXVCLEdBQUEsUUFBQSxDQ25CVjlDLE1BQUtnRCxpQkFBaUJOLFFBS3RCMUMsS0R5QktPLElBQUFQLEtBQUF1QixXQUFBMEIsWUN2QkxqRCxNQUFLTyxJRHlCS1AsS0FBS3VCLFdBQVUwQixTQ2xCN0IzRCxnQkFBZ0JtQyxVRDJCTXVCLGlCQUFBLFNBQUFFLHFCQ3RCcEIsR0FKQUMsUUFBUUMsSUFBSSxvQkQyQklwRCxLQUFBZ0IsTUFBQSxzQkFBd0NrQyxvQkFBQVQsT0FBQSxtQkFBQXpDLEtBQUFjLFdDdkJwRGQsS0FBS2dCLE9ENEJPa0Msb0JBQW1CVCxPQUNmLEdBQUF6QyxLQUFBYyxVQzVCbEIsSUFBSyxHQUFJZ0MsR0FBSSxFRGlDQ08sRUFBQUgsb0JBQXVCVCxPQUFBWSxFQUFBUCxFQUFBQSxJQzdCbkMsR0RrQ0ssS0FBREksb0JBQUNKLEdBQUEzQixNQUFBbUMsUUFBQXRELEtBQUFnQixPQUFBLENBU0xoQixLQUFNRixjQUFhaUIsVUFBVSx1Q0FBQSw0Q0FBQWYsS0FBQWdCLE1BQUEsMkJBQUEsMkJBRzlCaEIsS0FBTXVDLHVCQUNSLFNBSUxqRCxnQkFBV21DLFVBQWlCYyxzQkFBc0IsV0NsQzlDLEdBQUlnQixPQUFRQyxTQUFTQyxjQUFjLFFBQ25DRixPQUFNRyxJQUFNLGtDQUNaSCxNQUFNSSxhQUFhLFVBQVcsUUFDOUJKLE1BQU1JLGFBQWEsV0FBWSxRQUMvQkosTUFBTUssTUFBTUMsUUFBVSxPQUN0QkwsU0FBU25CLEtBQUt5QixZQUFZUCxPQUMxQkEsTUFBTVEsUUFFRHpFLGtCQUVYRCxlQUFjQyxnQkFBa0JBLGlCQUNoQ0QsZ0JBQWtCQSxtQkFDcEIyRSxJQUFJQyxXQUFXLG1CQUNiLFNBQ0EsUUFDQSxXQUNBLFlBQ0EsS0FDQSxhQUNBLGVBQ0EsZ0JBQ0E1RSxjQUFjQyIsImZpbGUiOiJwcm9tb0xpc3QvcHJvbW9MaXN0LmN0ci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9hcHAuZC50c1wiIC8+XG5cbm1vZHVsZSBUb21lZGVzY29udG9zIHtcblxuICAgIGV4cG9ydCBjbGFzcyBQcm9tb0NvbnRyb2xsZXIge1xuXG4gICAgICAgIHByaXZhdGUgcHJvbW90aW9uczogYW55W107XG4gICAgICAgIHByaXZhdGUgc2FnYTogYW55O1xuICAgICAgICBwcml2YXRlIGRhdGU6IGFueTtcbiAgICAgICAgcHJpdmF0ZSBzOiBhbnk7XG4gICAgICAgIHByaXZhdGUgc3VnZ2VzdGVkSXRlbXM6IGFueVtdO1xuICAgICAgICBwcml2YXRlIHF1ZXJ5OiBhbnk7XG4gICAgICAgIHByaXZhdGUgYWxlcnRNZTogYm9vbGVhbjtcbiAgICAgICAgcHJpdmF0ZSBhdXg6IGFueVtdO1xuICAgICAgICBwcml2YXRlIGFsZXJ0SXNPbjogYm9vbGVhbjtcblxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlICRzY29wZTogbmcuSVNjb3BlLCBcbiAgICAgICAgICAgIHByaXZhdGUgJGh0dHA6IG5nLklIdHRwU2VydmljZSwgXG4gICAgICAgICAgICBwcml2YXRlICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsXG4gICAgICAgICAgICBwcml2YXRlICRpbnRlcnZhbDogbmcuSUludGVydmFsU2VydmljZSxcbiAgICAgICAgICAgIHByaXZhdGUgJHE6IG5nLklRU2VydmljZSwgXG4gICAgICAgICAgICBwcml2YXRlICR0cmFuc2xhdGU6IG5nLnRyYW5zbGF0ZS5JVHJhbnNsYXRlU2VydmljZSxcbiAgICAgICAgICAgIHByaXZhdGUgcHJvbW9TZXJ2aWNlOiBQcm9tb1NlcnZpY2UsXG4gICAgICAgICAgICBwcml2YXRlIG5vdGlmeVNlcnZpY2U6IE5vdGlmeVNlcnZpY2UpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLyogY2FsbGluZyBhZGRUb0hvbWVTY3JlZW4gc2NyaXB0ICovXG4gICAgICAgICAgICBhZGRUb0hvbWVzY3JlZW4ucmVtb3ZlU2Vzc2lvbigpO1xuICAgICAgICAgICAgYWRkVG9Ib21lc2NyZWVuKHtcbiAgICAgICAgICAgICAgICBtb2RhbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtYXhEaXNwbGF5Q291bnQ6IDEsXG4gICAgICAgICAgICAgICAgc2tpcEZpcnN0VmlzaXQ6IHRydWVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmFsZXJ0TWUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYXV4ID0gW107XG4gICAgICAgICAgICAvKiogZGVmaW5pbmcgZGVmYXVsdCBsaXN0IG9mIHN1Z2dlc3RlZCBpdGVtcyAqL1xuICAgICAgICAgICAgdGhpcy5zdWdnZXN0ZWRJdGVtcyA9IFtcbiAgICAgICAgICAgICAgICB7bmFtZTogXCJTbWFydHBob25lXCIgLGNvbG9yOiBcInJlZFwifSxcbiAgICAgICAgICAgICAgICB7bmFtZTogXCJMaXZyb1wiICAgICAgLGNvbG9yOiBcInB1cnBsZVwifSxcbiAgICAgICAgICAgICAgICB7bmFtZTogXCJTb2bDoVwiICAgICAgICxjb2xvcjogXCJibHVlXCJ9LFxuICAgICAgICAgICAgICAgIHtuYW1lOiBcIlTDqm5pc1wiICAgICAgLGNvbG9yOiBcIm9yYW5nZVwifSxcbiAgICAgICAgICAgICAgICB7bmFtZTogXCJSZWzDs2dpb1wiICAgICxjb2xvcjogXCJncmV5XCJ9LFxuICAgICAgICAgICAgICAgIHtuYW1lOiBcIlBlcmZ1bWVcIiAgICAsY29sb3I6IFwiYnJvd25cIn0sXG4gICAgICAgICAgICAgICAge25hbWU6IFwiR2VsYWRlaXJhXCIgICxjb2xvcjogXCJncmVlblwifVxuICAgICAgICAgICAgXTsgIFxuXG4gICAgICAgICAgICAkKCcuYWxlcnRNZScpLmNoZWNrYm94KHtcbiAgICAgICAgICAgICAgICBvbkNoZWNrZWQ6KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvL3RoaXMudHVybk5vdGlmaWNhdGlvbk9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxlcnRJc09uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnlTZXJ2aWNlLm5vdGlmeU5vdyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlRvbWVEZXNjb250b3MgLSBNb2RvIGRlIEFsZXJ0YSBBdGl2YWRvIVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiVm9jw6ogYXRpdm91IG8gbW9kbyBkZSBhbGVydGEgcGFyYSBvIHByb2R1dG8gW1wiK3RoaXMucXVlcnkrXCJdLiBJcmVtb3MgbGhlIG5vdGlmaWNhciBhc3NpbSBxdWUgZW5jb250cmFybW9zIHVtYSBwcm9tb8Onw6NvLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaHR0cDovL3RvbWRlc2NvbnRvcy5jb21cIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25VbmNoZWNrZWQ6KCk9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxlcnRJc09uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICQoJy5oZWxwLmFsZXJ0JykucG9wdXAoe1xuICAgICAgICAgICAgICAgIHRpdGxlOiAnQXRpdmUgYSBmdW7Dp8OjbyBcIkFsZXJ0ZS1tZSFcIiBjYXNvIHZvY8OqIG7Do28gdGVuaGEgZW5jb250cmFkbyBhaW5kYSB1bWEgcHJvbW/Dp8OjbyBwYXJhJytcbiAgICAgICAgICAgICAgICAgICAgICAgICcgbyBwcm9kdXRvIHF1ZSBlc3TDoSBwcm9jdXJhbmRvIG91IGRlc2VqZSBtb25pdG9yw6EtbG8gcGFyYSBlbmNvbnRyYXIgdW0gcHJlw6dvIGFpbmRhJytcbiAgICAgICAgICAgICAgICAgICAgICAgICcgbWFpcyBiYWl4by4nXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5wcm9tb1NlcnZpY2UucGVzcXVpc2FyKCkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICB0aGlzLnByb21vdGlvbnMgPSBkYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUHJvbW9MaXN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBwdWJsaWMgdXBkYXRlUHJvbW9MaXN0KCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy4kaW50ZXJ2YWwoKCk9PntcbiAgICAgICAgICAgICAgICB0aGlzLnByb21vU2VydmljZS5wZXNxdWlzYXIoKS50aGVuKChkYXRhKSA9PiB7ICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9tb3Rpb25zID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93UHJvZHVjdE5vdGlmaWNhdGlvbigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgMjAwMDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHNldFRhZ0NvbG9yKGNvbG9yKTogYW55e1xuICAgICAgICAgICAgcmV0dXJuIFwidWkgXCIgKyBjb2xvciArIFwiIGJhc2ljIHRpbnkgYnV0dG9uXCI7XG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc2VhcmNoU3VnZ2VzdGVkSXRlbShpdGVtKTogdm9pZHtcbiAgICAgICAgICAgICQoJyNmaW5kUHJvZHVjdCcpLnZhbChpdGVtKTtcbiAgICAgICAgICAgIHRoaXMucXVlcnkgPSBpdGVtO1xuICAgICAgICB9XG5cbiAgICAgIC8qfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwqXG4gICAgICAgKnwgVGhpcyBtZXRob2QgaW1wbGVtZW50cyBhIGZ1bmN0aW9uIG9mIGNoZWNraW5nIHdoZXRoZXIgdXNlcidzIGJyb3dzZXIgbm90aWZpY2F0aW9ucyAgICB8KlxuICAgICAgICp8IGFyZSBhbGxvd2VkLiBPdGhlcndpc2UsIGFzayB1c2VyIHRvIHR1cm4gaXQgb24gdG8gcmVjZWl2ZSBhbGVydHMgZm9yIG5ldyBwcm9tb3Rpb25zLiAgfCpcbiAgICAgICAqfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwqL1xuXG4gICAgICAgIHB1YmxpYyB0dXJuTm90aWZpY2F0aW9uT24oKTogdm9pZCB7XG4gICAgICAgICAgICB2YXIgY2hjayA9IE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uOyBcbiAgICAgICAgICAgIGlmKCBjaGNrID09PSAnZGVuaWVkJyB8fCBjaGNrID09PSAnZGVmYXVsdCcgKXtcblxuICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbihmdW5jdGlvbihwZXJtaXNzaW9uKXtcbiAgICAgICAgICAgICAgICAgICAgbiA9IG5ldyBOb3RpZmljYXRpb24oIFwiQWxlcnRhIFRvbWVEZXNjb250b3MhXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IFwiT3BhISBGaWNhIGxpZ2FkbywgcG9pcyBlc3RlIGFsZXJ0YSBhcGFyZWNlcsOhIHF1YW5kbyBzdXJnaXIgdW1hIG5vdmEgcHJvbW/Dp8OjbyBwYXJhIG8gc2V1IHByb2R1dG8hXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbiA6IFwiLi4vLi4vYXNzZXRzL2ltZy90ZExvZ29CYWNrZ3JvdW5kLnBuZ1wiXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLyogc2V0dGluZyB0cnVlIHZhbHVlIHRvIHRoZSBzaWduYWwgdmFyaWFibGUgKi8gXG4gICAgICAgICAgICAgICAgdGhpcy5hbGVydElzT24gPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgLyogbWFrZSBhIG5vaXNlISA7RCAgKi9cbiAgICAgICAgICAgICAgICB0aGlzLnBsYXlTb3VuZE5vdGlmaWNhdGlvbigpO1xuICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIGVsc2UgaWYoIGNoY2sgPT09ICd1bmtub3duJyApe1xuICAgICAgICAgICAgICAgIGFsZXJ0KFwiT2ghIFNldSBicm93c2VyIG7Do28gc3Vwb3J0YSBlc3NhIGZ1bmNpb25hbGlkYWRlISA7KFwiKSBcbiAgICAgICAgICAgIH0gZWxzZSB7dGhpcy5hbGVydElzT24gPSB0cnVlO31cbiAgICAgICAgfVxuXG4gICAgICAvKnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18KlxuICAgICAgICp8IFRoaXMgbWV0aG9kIGlzIHJlc3BvbnNpYmxlIHRvIGlkZW50aWZ5IG5ldyBwcm9tb3Rpb25zIGFuZCBzZXQgaXRzIFwibmV3XCIgcHJvcGVydHkgYXMgICB8KlxuICAgICAgICp8IHRydWUgaW4gdGhlIG1haW4gYXJyYXkgb2YgcHJvbW90aW9ucy4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCpcbiAgICAgICAqfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwqL1xuICAgICAgICBwdWJsaWMgc2hvd1Byb2R1Y3ROb3RpZmljYXRpb24oKTogdm9pZCB7XG4gICAgICAgICAgICBpZih0aGlzLmF1eC5sZW5ndGggPiAwKXtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgICAgICAgICAgICAvKiBjb21wYXJpbmcgbWFpbiBsaXN0IHdoaWNoIGNvbnRhaW5zIGFsbCBwcm9tb3Rpb25zIHdpdGggYSBjb3B5IG9mIHRoZSBzYW1lIGxpc3QgXG4gICAgICAgICAgICAgICAgICogdGhhdCB3ZSBnb3QgZm9yIHRoZSBsYXN0IHRpbWUuIFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJvbW90aW9ucy5maWx0ZXIoKG1haW5MaXN0KT0+e1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hdXguZmlsdGVyKChhdXhMaXN0KT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1haW5MaXN0LnRpdGxlID09PSBhdXhMaXN0LnRpdGxlO1xuICAgICAgICAgICAgICAgICAgICB9KS5sZW5ndGggPT09IDA7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5wcm9tb3Rpb25zLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBqID0gMDsgaiA8IHJlc3VsdC5sZW5ndGg7IGorKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGluZGVudGlmeWluZyBuZXcgcHJvbW90aW9ucyBpbiB0aGUgbWFpbiBhcnJheSBvZiBwcm9tb3Rpb25zIGFuZCBtYXJraW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiB0aGVtIGFzIG5ldyAodHJ1ZSkgdXNpbmcgYnJhY2tldCBub3RhdGlvbi4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMucHJvbW90aW9uc1tpXS50aXRsZSA9PT0gcmVzdWx0W2pdLnRpdGxlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb21vdGlvbnNbaV1bXCJuZXdcIl0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgdGhpcy5wcm9tb3Rpb25zW2ldW1wibmV3XCJdID0gZmFsc2U7fSBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qIGNhbGxpbmcgbWV0aG9kIHJlc3BvbnNpYmxlIHRvIHNob3cgYSBub3RpZmljYXRpb24gYWNjb3JkaW5nIHRvIHRoZSBwcm9kdWN0XG4gICAgICAgICAgICAgICAgICogd2hpY2ggdGhlIHVzZXIgaXMgbG9va2luZyBmb3IuIFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd05vdGlmaWNhdGlvbihyZXN1bHQpO1xuXG4gICAgICAgICAgICAgICAgLyogTWFraW5nIGEgY29weSBvZiBvdXIgY3VycmVudCBhcnJheSBvZiBwcm9tb3Rpb25zIHRvIGFuIGF1eGlsaWFyIGFycmF5IGp1c3RcbiAgICAgICAgICAgICAgICAgKiB0byBrZWVwIGl0IGFsaXZlIGZvciBhIGZ1dHVyZSBjb21wYXJhdGlvbiBhbmQgZGVmaW5lIHdoaWNoIHJvd3Mgb2YgdGhlIGxpc3QgYXJlXG4gICAgICAgICAgICAgICAgICogYSBuZXcgcHJvbW90aW9uIGFuZCB0aGVuIHRvIGxpZ2h0IGl0IHVwISBcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB0aGlzLmF1eCA9IHRoaXMucHJvbW90aW9ucy5zbGljZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHt0aGlzLmF1eCA9IHRoaXMucHJvbW90aW9ucy5zbGljZSgpO31cbiAgICAgICAgfVxuXG4gICAgICAvKnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18KlxuICAgICAgICp8IFRoaXMgbWV0aG9kIGltcGxlbWVudHMgdGhlIHBhcnQgb2Ygbm90aWZpY2F0aW9ucyB3aGljaCB3aWxsIGJlIGRpc3BsYXllZCB0byB1c2VyIG5ldyAgfCpcbiAgICAgICAqfCBhIG5ldyBwcm9tb3Rpb24gYXBwZWFycyBmb3IgdGhlIHByb2R1Y3Qgd2hpY2ggaGUgaXMgbG9va2luZyBmb3IuICAgICAgICAgICAgICAgICAgICAgIHwqXG4gICAgICAgKnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18Ki9cbiAgICAgICAgcHVibGljIHNob3dOb3RpZmljYXRpb24obGlzdE9mTmV3UHJvbW90aW9uczphbnlbXSk6dm9pZCB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygncHJvZHV0byBidXNjYWRvOiAnICsgdGhpcy5xdWVyeSArICcgbnVtLiBub3ZhcyBwcm9tLjogJyArIGxpc3RPZk5ld1Byb21vdGlvbnMubGVuZ3RoICsgJyBhbGVydGEgc3RhdHVzOiAnICsgdGhpcy5hbGVydElzT24pXG4gICAgICAgICAgICAvKiBjaGVja2luZyB3aGV0aGVyIHVzZXIgaGFkIHNldCBhIHByb2R1Y3QgdG8gc2VhcmNoIG9uIGZpbHRlciwgd2hldGhlciB0aGVyZSdzXG4gICAgICAgICAgICAgKiBhdCBsZWFzdCBvbmUgbmV3IHByb21vIGFuZCB0aGVuIHdoZXRoZXIgdXNlciBoYWQgc2V0IHRoZSBhbGVydCBtb2RlIG9uLiBcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYodGhpcy5xdWVyeSAmJiBsaXN0T2ZOZXdQcm9tb3Rpb25zLmxlbmd0aCA+IDAgJiYgdGhpcy5hbGVydElzT24peyBcbiAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwLCB4ID0gbGlzdE9mTmV3UHJvbW90aW9ucy5sZW5ndGg7IGkgPCB4OyBpKyspe1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLyogaWRlbnRpZnlpbmcgd2hldGhlciBhIG5ldyBwcm9tb3Rpb24gbWF0Y2hlcyB3aXRoIHRoZSBwcm9kdWN0IHdoaWNoIHRoZSB1c2VyXG4gICAgICAgICAgICAgICAgICAgICAqIGlzIGxvb2tpbmcgZm9yIGFuZCB0aGVuIHRvIHNob3cgYSBub3RpZmljYXRpb24gdG8gaGltIFxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgaWYoKGxpc3RPZk5ld1Byb21vdGlvbnNbaV0udGl0bGUpLmluZGV4T2YodGhpcy5xdWVyeSkgIT09IC0xKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYoTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gIT09ICdncmFudGVkJyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB2YXIgbiA9IG5ldyBOb3RpZmljYXRpb24oIFwiT3BhYWEhXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBib2R5OiBcIkVuY29udHJhbW9zIHVtYSBwcm9tb8Onw6NvIHBhcmE6IFwiICsgdGhpcy5xdWVyeSArIFwiLiBDb3JyZSBsw6EgZSBhcHJvdmVpdGEhXCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGljb24gOiBcIi4uLy4uL2Fzc2V0cy9pbWcvdGRMb2dvQmFja2dyb3VuZC5wbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5U2VydmljZS5ub3RpZnlOb3coXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJUb21lRGVzY29udG9zIC0gUHJvbW/Dp8OjbyBFbmNvbnRyYWRhIVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiT3BhISBFbmNvbnRyYW1vcyB1bWEgbm92YSBwcm9tb8Onw6NvIHBhcmEgW1wiICsgdGhpcy5xdWVyeSArIFwiXSEgQ29ycmUgbMOhIGUgYXByb3ZlaXRhIVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaHR0cDovL3RvbWRlc2NvbnRvcy5jb21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLyogbWFrZSBhIG5vaXNlISA7RCAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxheVNvdW5kTm90aWZpY2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhazsgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIHBsYXlTb3VuZE5vdGlmaWNhdGlvbigpOiB2b2lkIHtcbiAgICAgICAgICAgIHZhciBzb3VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKTtcbiAgICAgICAgICAgIHNvdW5kLnNyYyA9IFwiLi4vLi4vYXNzZXRzL3NvdW5kcy9jYXBpc2NpLm1wM1wiO1xuICAgICAgICAgICAgc291bmQuc2V0QXR0cmlidXRlKFwicHJlbG9hZFwiLFwiYXV0b1wiKTtcbiAgICAgICAgICAgIHNvdW5kLnNldEF0dHJpYnV0ZShcImNvbnRyb2xzXCIsXCJub25lXCIpO1xuICAgICAgICAgICAgc291bmQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzb3VuZCk7XG5cbiAgICAgICAgICAgc291bmQucGxheSgpO1xuICAgICAgICB9XG5cbiAgICB9XG59XG5hcHAuY29udHJvbGxlcignUHJvbW9Db250cm9sbGVyJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnJHRpbWVvdXQnLCAnJGludGVydmFsJywgJyRxJywgJyR0cmFuc2xhdGUnLCAnUHJvbW9TZXJ2aWNlJywgJ05vdGlmeVNlcnZpY2UnLCBUb21lZGVzY29udG9zLlByb21vQ29udHJvbGxlcl0pOyIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9hcHAuZC50c1wiIC8+XG52YXIgVG9tZWRlc2NvbnRvcztcbihmdW5jdGlvbiAoVG9tZWRlc2NvbnRvcykge1xuICB2YXIgUHJvbW9Db250cm9sbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gUHJvbW9Db250cm9sbGVyKCRzY29wZSwgJGh0dHAsICR0aW1lb3V0LCAkaW50ZXJ2YWwsICRxLCAkdHJhbnNsYXRlLCBwcm9tb1NlcnZpY2UsIG5vdGlmeVNlcnZpY2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy4kc2NvcGUgPSAkc2NvcGU7XG4gICAgICAgIHRoaXMuJGh0dHAgPSAkaHR0cDtcbiAgICAgICAgdGhpcy4kdGltZW91dCA9ICR0aW1lb3V0O1xuICAgICAgICB0aGlzLiRpbnRlcnZhbCA9ICRpbnRlcnZhbDtcbiAgICAgICAgdGhpcy4kcSA9ICRxO1xuICAgICAgICB0aGlzLiR0cmFuc2xhdGUgPSAkdHJhbnNsYXRlO1xuICAgICAgICB0aGlzLnByb21vU2VydmljZSA9IHByb21vU2VydmljZTtcbiAgICAgICAgdGhpcy5ub3RpZnlTZXJ2aWNlID0gbm90aWZ5U2VydmljZTtcbiAgICAgICAgLyogY2FsbGluZyBhZGRUb0hvbWVTY3JlZW4gc2NyaXB0ICovXG4gICAgICAgIGFkZFRvSG9tZXNjcmVlbi5yZW1vdmVTZXNzaW9uKCk7XG4gICAgICAgIGFkZFRvSG9tZXNjcmVlbih7XG4gICAgICAgICAgbW9kYWw6IHRydWUsXG4gICAgICAgICAgbWF4RGlzcGxheUNvdW50OiAxLFxuICAgICAgICAgIHNraXBGaXJzdFZpc2l0OiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFsZXJ0TWUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hdXggPSBbXTtcbiAgICAgICAgLyoqIGRlZmluaW5nIGRlZmF1bHQgbGlzdCBvZiBzdWdnZXN0ZWQgaXRlbXMgKi9cbiAgICAgICAgdGhpcy5zdWdnZXN0ZWRJdGVtcyA9IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnU21hcnRwaG9uZScsXG4gICAgICAgICAgICBjb2xvcjogJ3JlZCdcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdMaXZybycsXG4gICAgICAgICAgICBjb2xvcjogJ3B1cnBsZSdcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdTb2ZcXHhlMScsXG4gICAgICAgICAgICBjb2xvcjogJ2JsdWUnXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnVFxceGVhbmlzJyxcbiAgICAgICAgICAgIGNvbG9yOiAnb3JhbmdlJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogJ1JlbFxceGYzZ2lvJyxcbiAgICAgICAgICAgIGNvbG9yOiAnZ3JleSdcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdQZXJmdW1lJyxcbiAgICAgICAgICAgIGNvbG9yOiAnYnJvd24nXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnR2VsYWRlaXJhJyxcbiAgICAgICAgICAgIGNvbG9yOiAnZ3JlZW4nXG4gICAgICAgICAgfVxuICAgICAgICBdO1xuICAgICAgICAkKCcuYWxlcnRNZScpLmNoZWNrYm94KHtcbiAgICAgICAgICBvbkNoZWNrZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vdGhpcy50dXJuTm90aWZpY2F0aW9uT24oKTtcbiAgICAgICAgICAgIF90aGlzLmFsZXJ0SXNPbiA9IHRydWU7XG4gICAgICAgICAgICBfdGhpcy5ub3RpZnlTZXJ2aWNlLm5vdGlmeU5vdygnVG9tZURlc2NvbnRvcyAtIE1vZG8gZGUgQWxlcnRhIEF0aXZhZG8hJywgJ1ZvY1xceGVhIGF0aXZvdSBvIG1vZG8gZGUgYWxlcnRhIHBhcmEgbyBwcm9kdXRvIFsnICsgX3RoaXMucXVlcnkgKyAnXS4gSXJlbW9zIGxoZSBub3RpZmljYXIgYXNzaW0gcXVlIGVuY29udHJhcm1vcyB1bWEgcHJvbW9cXHhlN1xceGUzby4nLCAnaHR0cDovL3RvbWRlc2NvbnRvcy5jb20nKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uVW5jaGVja2VkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5hbGVydElzT24gPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAkKCcuaGVscC5hbGVydCcpLnBvcHVwKHsgdGl0bGU6ICdBdGl2ZSBhIGZ1blxceGU3XFx4ZTNvIFwiQWxlcnRlLW1lIVwiIGNhc28gdm9jXFx4ZWEgblxceGUzbyB0ZW5oYSBlbmNvbnRyYWRvIGFpbmRhIHVtYSBwcm9tb1xceGU3XFx4ZTNvIHBhcmEnICsgJyBvIHByb2R1dG8gcXVlIGVzdFxceGUxIHByb2N1cmFuZG8gb3UgZGVzZWplIG1vbml0b3JcXHhlMS1sbyBwYXJhIGVuY29udHJhciB1bSBwcmVcXHhlN28gYWluZGEnICsgJyBtYWlzIGJhaXhvLicgfSk7XG4gICAgICAgIHRoaXMucHJvbW9TZXJ2aWNlLnBlc3F1aXNhcigpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICBfdGhpcy5wcm9tb3Rpb25zID0gZGF0YTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlUHJvbW9MaXN0KCk7XG4gICAgICB9XG4gICAgICBQcm9tb0NvbnRyb2xsZXIucHJvdG90eXBlLnVwZGF0ZVByb21vTGlzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy4kaW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLnByb21vU2VydmljZS5wZXNxdWlzYXIoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBfdGhpcy5wcm9tb3Rpb25zID0gZGF0YTtcbiAgICAgICAgICAgIF90aGlzLnNob3dQcm9kdWN0Tm90aWZpY2F0aW9uKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sIDIwMDAwKTtcbiAgICAgIH07XG4gICAgICBQcm9tb0NvbnRyb2xsZXIucHJvdG90eXBlLnNldFRhZ0NvbG9yID0gZnVuY3Rpb24gKGNvbG9yKSB7XG4gICAgICAgIHJldHVybiAndWkgJyArIGNvbG9yICsgJyBiYXNpYyB0aW55IGJ1dHRvbic7XG4gICAgICB9O1xuICAgICAgUHJvbW9Db250cm9sbGVyLnByb3RvdHlwZS5zZWFyY2hTdWdnZXN0ZWRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgJCgnI2ZpbmRQcm9kdWN0JykudmFsKGl0ZW0pO1xuICAgICAgICB0aGlzLnF1ZXJ5ID0gaXRlbTtcbiAgICAgIH07XG4gICAgICAvKnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18KlxuICAgICAgICAgKnwgVGhpcyBtZXRob2QgaW1wbGVtZW50cyBhIGZ1bmN0aW9uIG9mIGNoZWNraW5nIHdoZXRoZXIgdXNlcidzIGJyb3dzZXIgbm90aWZpY2F0aW9ucyAgICB8KlxuICAgICAgICAgKnwgYXJlIGFsbG93ZWQuIE90aGVyd2lzZSwgYXNrIHVzZXIgdG8gdHVybiBpdCBvbiB0byByZWNlaXZlIGFsZXJ0cyBmb3IgbmV3IHByb21vdGlvbnMuICB8KlxuICAgICAgICAgKnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18Ki9cbiAgICAgIFByb21vQ29udHJvbGxlci5wcm90b3R5cGUudHVybk5vdGlmaWNhdGlvbk9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2hjayA9IE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uO1xuICAgICAgICBpZiAoY2hjayA9PT0gJ2RlbmllZCcgfHwgY2hjayA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKGZ1bmN0aW9uIChwZXJtaXNzaW9uKSB7XG4gICAgICAgICAgICBuID0gbmV3IE5vdGlmaWNhdGlvbignQWxlcnRhIFRvbWVEZXNjb250b3MhJywge1xuICAgICAgICAgICAgICBib2R5OiAnT3BhISBGaWNhIGxpZ2FkbywgcG9pcyBlc3RlIGFsZXJ0YSBhcGFyZWNlclxceGUxIHF1YW5kbyBzdXJnaXIgdW1hIG5vdmEgcHJvbW9cXHhlN1xceGUzbyBwYXJhIG8gc2V1IHByb2R1dG8hJyxcbiAgICAgICAgICAgICAgaWNvbjogJy4uLy4uL2Fzc2V0cy9pbWcvdGRMb2dvQmFja2dyb3VuZC5wbmcnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAvKiBzZXR0aW5nIHRydWUgdmFsdWUgdG8gdGhlIHNpZ25hbCB2YXJpYWJsZSAqL1xuICAgICAgICAgIHRoaXMuYWxlcnRJc09uID0gdHJ1ZTtcbiAgICAgICAgICAvKiBtYWtlIGEgbm9pc2UhIDtEICAqL1xuICAgICAgICAgIHRoaXMucGxheVNvdW5kTm90aWZpY2F0aW9uKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hjayA9PT0gJ3Vua25vd24nKSB7XG4gICAgICAgICAgYWxlcnQoJ09oISBTZXUgYnJvd3NlciBuXFx4ZTNvIHN1cG9ydGEgZXNzYSBmdW5jaW9uYWxpZGFkZSEgOygnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmFsZXJ0SXNPbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICAvKnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18KlxuICAgICAgICAgKnwgVGhpcyBtZXRob2QgaXMgcmVzcG9uc2libGUgdG8gaWRlbnRpZnkgbmV3IHByb21vdGlvbnMgYW5kIHNldCBpdHMgXCJuZXdcIiBwcm9wZXJ0eSBhcyAgIHwqXG4gICAgICAgICAqfCB0cnVlIGluIHRoZSBtYWluIGFycmF5IG9mIHByb21vdGlvbnMuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwqXG4gICAgICAgICAqfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwqL1xuICAgICAgUHJvbW9Db250cm9sbGVyLnByb3RvdHlwZS5zaG93UHJvZHVjdE5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuYXV4Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgICAgLyogY29tcGFyaW5nIG1haW4gbGlzdCB3aGljaCBjb250YWlucyBhbGwgcHJvbW90aW9ucyB3aXRoIGEgY29weSBvZiB0aGUgc2FtZSBsaXN0XG4gICAgICAgICAgICAgICAgICogdGhhdCB3ZSBnb3QgZm9yIHRoZSBsYXN0IHRpbWUuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgcmVzdWx0ID0gdGhpcy5wcm9tb3Rpb25zLmZpbHRlcihmdW5jdGlvbiAobWFpbkxpc3QpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5hdXguZmlsdGVyKGZ1bmN0aW9uIChhdXhMaXN0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBtYWluTGlzdC50aXRsZSA9PT0gYXV4TGlzdC50aXRsZTtcbiAgICAgICAgICAgIH0pLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucHJvbW90aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByZXN1bHQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgLyogaW5kZW50aWZ5aW5nIG5ldyBwcm9tb3Rpb25zIGluIHRoZSBtYWluIGFycmF5IG9mIHByb21vdGlvbnMgYW5kIG1hcmtpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIHRoZW0gYXMgbmV3ICh0cnVlKSB1c2luZyBicmFja2V0IG5vdGF0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgIGlmICh0aGlzLnByb21vdGlvbnNbaV0udGl0bGUgPT09IHJlc3VsdFtqXS50aXRsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvbW90aW9uc1tpXVsnbmV3J10gPSB0cnVlO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvbW90aW9uc1tpXVsnbmV3J10gPSBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvKiBjYWxsaW5nIG1ldGhvZCByZXNwb25zaWJsZSB0byBzaG93IGEgbm90aWZpY2F0aW9uIGFjY29yZGluZyB0byB0aGUgcHJvZHVjdFxuICAgICAgICAgICAgICAgICAqIHdoaWNoIHRoZSB1c2VyIGlzIGxvb2tpbmcgZm9yLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgIHRoaXMuc2hvd05vdGlmaWNhdGlvbihyZXN1bHQpO1xuICAgICAgICAgIC8qIE1ha2luZyBhIGNvcHkgb2Ygb3VyIGN1cnJlbnQgYXJyYXkgb2YgcHJvbW90aW9ucyB0byBhbiBhdXhpbGlhciBhcnJheSBqdXN0XG4gICAgICAgICAgICAgICAgICogdG8ga2VlcCBpdCBhbGl2ZSBmb3IgYSBmdXR1cmUgY29tcGFyYXRpb24gYW5kIGRlZmluZSB3aGljaCByb3dzIG9mIHRoZSBsaXN0IGFyZVxuICAgICAgICAgICAgICAgICAqIGEgbmV3IHByb21vdGlvbiBhbmQgdGhlbiB0byBsaWdodCBpdCB1cCFcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICB0aGlzLmF1eCA9IHRoaXMucHJvbW90aW9ucy5zbGljZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuYXV4ID0gdGhpcy5wcm9tb3Rpb25zLnNsaWNlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICAvKnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18KlxuICAgICAgICAgKnwgVGhpcyBtZXRob2QgaW1wbGVtZW50cyB0aGUgcGFydCBvZiBub3RpZmljYXRpb25zIHdoaWNoIHdpbGwgYmUgZGlzcGxheWVkIHRvIHVzZXIgbmV3ICB8KlxuICAgICAgICAgKnwgYSBuZXcgcHJvbW90aW9uIGFwcGVhcnMgZm9yIHRoZSBwcm9kdWN0IHdoaWNoIGhlIGlzIGxvb2tpbmcgZm9yLiAgICAgICAgICAgICAgICAgICAgICB8KlxuICAgICAgICAgKnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18Ki9cbiAgICAgIFByb21vQ29udHJvbGxlci5wcm90b3R5cGUuc2hvd05vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uIChsaXN0T2ZOZXdQcm9tb3Rpb25zKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdwcm9kdXRvIGJ1c2NhZG86ICcgKyB0aGlzLnF1ZXJ5ICsgJyBudW0uIG5vdmFzIHByb20uOiAnICsgbGlzdE9mTmV3UHJvbW90aW9ucy5sZW5ndGggKyAnIGFsZXJ0YSBzdGF0dXM6ICcgKyB0aGlzLmFsZXJ0SXNPbik7XG4gICAgICAgIC8qIGNoZWNraW5nIHdoZXRoZXIgdXNlciBoYWQgc2V0IGEgcHJvZHVjdCB0byBzZWFyY2ggb24gZmlsdGVyLCB3aGV0aGVyIHRoZXJlJ3NcbiAgICAgICAgICAgICAqIGF0IGxlYXN0IG9uZSBuZXcgcHJvbW8gYW5kIHRoZW4gd2hldGhlciB1c2VyIGhhZCBzZXQgdGhlIGFsZXJ0IG1vZGUgb24uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMucXVlcnkgJiYgbGlzdE9mTmV3UHJvbW90aW9ucy5sZW5ndGggPiAwICYmIHRoaXMuYWxlcnRJc09uKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIHggPSBsaXN0T2ZOZXdQcm9tb3Rpb25zLmxlbmd0aDsgaSA8IHg7IGkrKykge1xuICAgICAgICAgICAgLyogaWRlbnRpZnlpbmcgd2hldGhlciBhIG5ldyBwcm9tb3Rpb24gbWF0Y2hlcyB3aXRoIHRoZSBwcm9kdWN0IHdoaWNoIHRoZSB1c2VyXG4gICAgICAgICAgICAgICAgICAgICAqIGlzIGxvb2tpbmcgZm9yIGFuZCB0aGVuIHRvIHNob3cgYSBub3RpZmljYXRpb24gdG8gaGltXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKGxpc3RPZk5ld1Byb21vdGlvbnNbaV0udGl0bGUuaW5kZXhPZih0aGlzLnF1ZXJ5KSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgLy8gaWYoTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gIT09ICdncmFudGVkJyl7XG4gICAgICAgICAgICAgIC8vICAgICBOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oKTtcbiAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAvLyB2YXIgbiA9IG5ldyBOb3RpZmljYXRpb24oIFwiT3BhYWEhXCIsIHtcbiAgICAgICAgICAgICAgLy8gICAgIGJvZHk6IFwiRW5jb250cmFtb3MgdW1hIHByb21vw6fDo28gcGFyYTogXCIgKyB0aGlzLnF1ZXJ5ICsgXCIuIENvcnJlIGzDoSBlIGFwcm92ZWl0YSFcIiwgXG4gICAgICAgICAgICAgIC8vICAgICBpY29uIDogXCIuLi8uLi9hc3NldHMvaW1nL3RkTG9nb0JhY2tncm91bmQucG5nXCJcbiAgICAgICAgICAgICAgLy8gfSk7XG4gICAgICAgICAgICAgIHRoaXMubm90aWZ5U2VydmljZS5ub3RpZnlOb3coJ1RvbWVEZXNjb250b3MgLSBQcm9tb1xceGU3XFx4ZTNvIEVuY29udHJhZGEhJywgJ09wYSEgRW5jb250cmFtb3MgdW1hIG5vdmEgcHJvbW9cXHhlN1xceGUzbyBwYXJhIFsnICsgdGhpcy5xdWVyeSArICddISBDb3JyZSBsXFx4ZTEgZSBhcHJvdmVpdGEhJywgJ2h0dHA6Ly90b21kZXNjb250b3MuY29tJyk7XG4gICAgICAgICAgICAgIC8qIG1ha2UgYSBub2lzZSEgO0QgICovXG4gICAgICAgICAgICAgIHRoaXMucGxheVNvdW5kTm90aWZpY2F0aW9uKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIFByb21vQ29udHJvbGxlci5wcm90b3R5cGUucGxheVNvdW5kTm90aWZpY2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc291bmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xuICAgICAgICBzb3VuZC5zcmMgPSAnLi4vLi4vYXNzZXRzL3NvdW5kcy9jYXBpc2NpLm1wMyc7XG4gICAgICAgIHNvdW5kLnNldEF0dHJpYnV0ZSgncHJlbG9hZCcsICdhdXRvJyk7XG4gICAgICAgIHNvdW5kLnNldEF0dHJpYnV0ZSgnY29udHJvbHMnLCAnbm9uZScpO1xuICAgICAgICBzb3VuZC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNvdW5kKTtcbiAgICAgICAgc291bmQucGxheSgpO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBQcm9tb0NvbnRyb2xsZXI7XG4gICAgfSgpO1xuICBUb21lZGVzY29udG9zLlByb21vQ29udHJvbGxlciA9IFByb21vQ29udHJvbGxlcjtcbn0oVG9tZWRlc2NvbnRvcyB8fCAoVG9tZWRlc2NvbnRvcyA9IHt9KSkpO1xuYXBwLmNvbnRyb2xsZXIoJ1Byb21vQ29udHJvbGxlcicsIFtcbiAgJyRzY29wZScsXG4gICckaHR0cCcsXG4gICckdGltZW91dCcsXG4gICckaW50ZXJ2YWwnLFxuICAnJHEnLFxuICAnJHRyYW5zbGF0ZScsXG4gICdQcm9tb1NlcnZpY2UnLFxuICAnTm90aWZ5U2VydmljZScsXG4gIFRvbWVkZXNjb250b3MuUHJvbW9Db250cm9sbGVyXG5dKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

var Tomedescontos;!function(Tomedescontos){var MenuController=function(){function MenuController($scope,$http,$q,$translate,$auth){this.$scope=$scope,this.$http=$http,this.$q=$q,this.$translate=$translate,this.$auth=$auth}return MenuController}();Tomedescontos.MenuController=MenuController}(Tomedescontos||(Tomedescontos={})),app.controller("MenuController",["$scope","$http","$q","$translate",Tomedescontos.MenuController]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUvbWVudS5jdHIudHMiLCJtZW51L21lbnUuY3RyLmpzIl0sIm5hbWVzIjpbIlRvbWVkZXNjb250b3MiLCJNZW51Q29udHJvbGxlciIsIiRzY29wZSIsIiRodHRwIiwiJHEiLCIkdHJhbnNsYXRlIiwiJGF1dGgiLCJ0aGlzIiwiYXBwIiwiY29udHJvbGxlciJdLCJtYXBwaW5ncyI6IkFBRUEsR0FBT0EsZ0JBQVAsU0FBT0EsZUNDTCxHRENFQyxnQkFBQSxXQ0FFLFFET0VBLGdCQUFBQyxPQUFxQ0MsTUFDSEMsR0FDTkMsV0FDMEJDLE9DVHREQyxLRE1vQkwsT0FBQUEsT0NMcEJLLEtETVlKLE1BQUFBLE1DTFpJLEtETVlILEdBQUFBLEdDTFpHLEtETVlGLFdBQUFBLFdDTFpFLEtETVlELE1BQUFBLE1DSmQsTURPRkwsa0JDTEZELGVEVGVDLGVBQWNBLGdCQWU5QkQsZ0JBakJtQkEsbUJBa0JwQlEsSUFBSUMsV0FBVyxrQkNKYixTQUNBLFFBQ0EsS0FDQSxhQUNBVCxjQUFjQyIsImZpbGUiOiJtZW51L21lbnUuY3RyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2FwcC5kLnRzXCIgLz5cblxubW9kdWxlIFRvbWVkZXNjb250b3Mge1xuXG4gICAgZXhwb3J0IGNsYXNzIE1lbnVDb250cm9sbGVyIHtcblxuICAgICAgICBwcml2YXRlIHByb21vdGlvbnM6IGFueTtcbiAgICAgICAgcHJpdmF0ZSBzYWdhOiBhbnk7XG4gICAgICAgIHByaXZhdGUgZGF0ZTogYW55O1xuICAgICAgICBwcml2YXRlIHM6IGFueTtcblxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlICRzY29wZTogbmcuSVNjb3BlLCBcbiAgICAgICAgICAgIHByaXZhdGUgJGh0dHA6IG5nLklIdHRwU2VydmljZSwgXG4gICAgICAgICAgICBwcml2YXRlICRxOiBuZy5JUVNlcnZpY2UsIFxuICAgICAgICAgICAgcHJpdmF0ZSAkdHJhbnNsYXRlOiBuZy50cmFuc2xhdGUuSVRyYW5zbGF0ZVNlcnZpY2UsXG4gICAgICAgICAgICBwcml2YXRlICRhdXRoKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgfSAgICAgICAgXG4gICAgfVxufVxuYXBwLmNvbnRyb2xsZXIoJ01lbnVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnJHEnLCAnJHRyYW5zbGF0ZScsIFRvbWVkZXNjb250b3MuTWVudUNvbnRyb2xsZXJdKTsiLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vYXBwLmQudHNcIiAvPlxudmFyIFRvbWVkZXNjb250b3M7XG4oZnVuY3Rpb24gKFRvbWVkZXNjb250b3MpIHtcbiAgdmFyIE1lbnVDb250cm9sbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gTWVudUNvbnRyb2xsZXIoJHNjb3BlLCAkaHR0cCwgJHEsICR0cmFuc2xhdGUsICRhdXRoKSB7XG4gICAgICAgIHRoaXMuJHNjb3BlID0gJHNjb3BlO1xuICAgICAgICB0aGlzLiRodHRwID0gJGh0dHA7XG4gICAgICAgIHRoaXMuJHEgPSAkcTtcbiAgICAgICAgdGhpcy4kdHJhbnNsYXRlID0gJHRyYW5zbGF0ZTtcbiAgICAgICAgdGhpcy4kYXV0aCA9ICRhdXRoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE1lbnVDb250cm9sbGVyO1xuICAgIH0oKTtcbiAgVG9tZWRlc2NvbnRvcy5NZW51Q29udHJvbGxlciA9IE1lbnVDb250cm9sbGVyO1xufShUb21lZGVzY29udG9zIHx8IChUb21lZGVzY29udG9zID0ge30pKSk7XG5hcHAuY29udHJvbGxlcignTWVudUNvbnRyb2xsZXInLCBbXG4gICckc2NvcGUnLFxuICAnJGh0dHAnLFxuICAnJHEnLFxuICAnJHRyYW5zbGF0ZScsXG4gIFRvbWVkZXNjb250b3MuTWVudUNvbnRyb2xsZXJcbl0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

var Tomedescontos;!function(Tomedescontos){var MainController=function(){function MainController($scope,$http,$q,$translate,promoService){var _this=this;this.$scope=$scope,this.$http=$http,this.$q=$q,this.$translate=$translate,this.promoService=promoService,this.promoService.getPromoImages().then(function(data){_this.images=data})}return MainController}();Tomedescontos.MainController=MainController}(Tomedescontos||(Tomedescontos={})),app.controller("MainController",["$scope","$http","$q","$translate","PromoService",Tomedescontos.MainController]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4vbWFpbi5jdHIudHMiLCJtYWluL21haW4uY3RyLmpzIl0sIm5hbWVzIjpbIlRvbWVkZXNjb250b3MiLCJNYWluQ29udHJvbGxlciIsIiRzY29wZSIsIiRodHRwIiwiJHEiLCIkdHJhbnNsYXRlIiwicHJvbW9TZXJ2aWNlIiwiX3RoaXMiLCJ0aGlzIiwiZ2V0UHJvbW9JbWFnZXMiLCJ0aGVuIiwiZGF0YSIsImltYWdlcyIsImFwcCIsImNvbnRyb2xsZXIiXSwibWFwcGluZ3MiOiJBQUVBLEdBQU9BLGdCQUFQLFNBQU9BLGVDQ0wsR0RDRUMsZ0JBQUEsV0NBRSxRRE1FQSxnQkFBQUMsT0FBcUNDLE1BQ0hDLEdBQ05DLFdBQzBCQyxjQ1J0RCxHRERKQyxPQUFBQyxJQ0VJQSxNRElvQk4sT0FBQUEsT0NIcEJNLEtESVlMLE1BQUFBLE1DSFpLLEtESVlKLEdBQUFBLEdDSFpJLEtESVlILFdBQUFBLFdDSFpHLEtESVlGLGFBQUFBLGFDSFpFLEtES1FGLGFBQUtHLGlCQUFhQyxLQUFpQixTQUFLQyxNQ0o5Q0osTURLVUssT0FBS0QsT0NGbkIsTURNRlYsa0JDSkZELGVEYmVDLGVBQWNBLGdCQWtCOUJELGdCQXBCbUJBLG1CQXFCcEJhLElBQUlDLFdBQVcsa0JDSGIsU0FDQSxRQUNBLEtBQ0EsYUFDQSxlQUNBZCxjQUFjQyIsImZpbGUiOiJtYWluL21haW4uY3RyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2FwcC5kLnRzXCIgLz5cblxubW9kdWxlIFRvbWVkZXNjb250b3Mge1xuXG4gICAgZXhwb3J0IGNsYXNzIE1haW5Db250cm9sbGVyIHtcblxuICAgICAgICBwcml2YXRlIGRhdGU6IGFueTtcbiAgICAgICAgcHJpdmF0ZSBzOiBhbnk7XG4gICAgICAgIHByaXZhdGUgaW1hZ2VzOiBhbnlbXTtcblxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlICRzY29wZTogbmcuSVNjb3BlLCBcbiAgICAgICAgICAgIHByaXZhdGUgJGh0dHA6IG5nLklIdHRwU2VydmljZSwgXG4gICAgICAgICAgICBwcml2YXRlICRxOiBuZy5JUVNlcnZpY2UsIFxuICAgICAgICAgICAgcHJpdmF0ZSAkdHJhbnNsYXRlOiBuZy50cmFuc2xhdGUuSVRyYW5zbGF0ZVNlcnZpY2UsXG4gICAgICAgICAgICBwcml2YXRlIHByb21vU2VydmljZTogUHJvbW9TZXJ2aWNlKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9tb1NlcnZpY2UuZ2V0UHJvbW9JbWFnZXMoKS50aGVuKChkYXRhKT0+e1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlcyA9IGRhdGE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gXG5cbiAgICB9XG59XG5hcHAuY29udHJvbGxlcignTWFpbkNvbnRyb2xsZXInLCBbJyRzY29wZScsICckaHR0cCcsICckcScsICckdHJhbnNsYXRlJywgJ1Byb21vU2VydmljZScsIFRvbWVkZXNjb250b3MuTWFpbkNvbnRyb2xsZXJdKTsiLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vYXBwLmQudHNcIiAvPlxudmFyIFRvbWVkZXNjb250b3M7XG4oZnVuY3Rpb24gKFRvbWVkZXNjb250b3MpIHtcbiAgdmFyIE1haW5Db250cm9sbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gTWFpbkNvbnRyb2xsZXIoJHNjb3BlLCAkaHR0cCwgJHEsICR0cmFuc2xhdGUsIHByb21vU2VydmljZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLiRzY29wZSA9ICRzY29wZTtcbiAgICAgICAgdGhpcy4kaHR0cCA9ICRodHRwO1xuICAgICAgICB0aGlzLiRxID0gJHE7XG4gICAgICAgIHRoaXMuJHRyYW5zbGF0ZSA9ICR0cmFuc2xhdGU7XG4gICAgICAgIHRoaXMucHJvbW9TZXJ2aWNlID0gcHJvbW9TZXJ2aWNlO1xuICAgICAgICB0aGlzLnByb21vU2VydmljZS5nZXRQcm9tb0ltYWdlcygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICBfdGhpcy5pbWFnZXMgPSBkYXRhO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBNYWluQ29udHJvbGxlcjtcbiAgICB9KCk7XG4gIFRvbWVkZXNjb250b3MuTWFpbkNvbnRyb2xsZXIgPSBNYWluQ29udHJvbGxlcjtcbn0oVG9tZWRlc2NvbnRvcyB8fCAoVG9tZWRlc2NvbnRvcyA9IHt9KSkpO1xuYXBwLmNvbnRyb2xsZXIoJ01haW5Db250cm9sbGVyJywgW1xuICAnJHNjb3BlJyxcbiAgJyRodHRwJyxcbiAgJyRxJyxcbiAgJyR0cmFuc2xhdGUnLFxuICAnUHJvbW9TZXJ2aWNlJyxcbiAgVG9tZWRlc2NvbnRvcy5NYWluQ29udHJvbGxlclxuXSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

var Tomedescontos;!function(Tomedescontos){var PromoService=function(){function PromoService($http,$q){this.$http=$http,this.$q=$q,this.urlBase=window.location.origin}return PromoService.prototype.pesquisar=function(){var defer=this.$q.defer();return this.$http.get(this.urlBase+":8081/promos").then(function(response){defer.resolve(response.data)},function(errResponse){defer.reject(errResponse)}),defer.promise},PromoService.prototype.getPromoImages=function(){var defer=this.$q.defer();return this.$http.get(this.urlBase+":8081/promoImages").then(function(response){defer.resolve(response.data)},function(errResponse){defer.reject(errResponse)}),defer.promise},PromoService}();Tomedescontos.PromoService=PromoService}(Tomedescontos||(Tomedescontos={})),app.service("PromoService",["$http","$q",Tomedescontos.PromoService]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2VzL3Byb21vcy5zZXIudHMiLCJzZXJ2aWNlcy9wcm9tb3Muc2VyLmpzIl0sIm5hbWVzIjpbIlRvbWVkZXNjb250b3MiLCJQcm9tb1NlcnZpY2UiLCIkaHR0cCIsIiRxIiwidGhpcyIsInVybEJhc2UiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsIm9yaWdpbiIsInByb3RvdHlwZSIsInBlc3F1aXNhciIsImRlZmVyIiwiZ2V0IiwidGhlbiIsInJlc3BvbnNlIiwicmVzb2x2ZSIsImRhdGEiLCJlcnJSZXNwb25zZSIsInJlamVjdCIsInByb21pc2UiLCJnZXRQcm9tb0ltYWdlcyIsImFwcCIsInNlcnZpY2UiXSwibWFwcGluZ3MiOiJBQUVBLEdBQU9BLGdCQUFQLFNBQU9BLGVDQ0wsR0RDRUMsY0FBQSxXQ0NFLFFESUVBLGNBQUFDLE1BQTBDQyxJQ0gxQ0MsS0RHb0JGLE1BQUFBLE1DRnBCRSxLREdZRCxHQUFBQSxHQ0ZaQyxLREZRQyxRQUFBQyxPQUFVQyxTQUFPQyxPQ3NCM0IsTUFsQkFQLGNESVNRLFVBQUFDLFVBQVMsV0NIaEIsR0RJSUMsT0FBSVAsS0FBUUQsR0FBSVEsT0NFcEIsT0FMQVAsTURJSUYsTUFBS1UsSUFBTVIsS0FBSUMsUUFBSyxnQkFBVVEsS0FBZ0IsU0FBS0MsVUNIckRILE1ESU1JLFFBQU1ELFNBQVFFLE9DSG5CLFNESUlDLGFDSExOLE1ESU1PLE9BQU1ELGVBRVZOLE1BQU9RLFNDRmJsQixhREtTUSxVQUFBVyxlQUFjLFdDSnJCLEdES0lULE9BQUlQLEtBQVFELEdBQUlRLE9DQ3BCLE9BTEFQLE1ES0lGLE1BQUtVLElBQU1SLEtBQUlDLFFBQUsscUJBQVVRLEtBQXFCLFNBQUtDLFVDSjFESCxNREtNSSxRQUFNRCxTQUFRRSxPQ0puQixTREtJQyxhQ0pMTixNREtNTyxPQUFNRCxlQUVWTixNQUFPUSxTQUdmbEIsZUNKRkQsZUQxQmVDLGFBQVlBLGNBK0I1QkQsZ0JBakNtQkEsbUJBbUNwQnFCLElBQUlDLFFBQVEsZ0JDSlYsUUFDQSxLQUNBdEIsY0FBY0MiLCJmaWxlIjoic2VydmljZXMvcHJvbW9zLnNlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9hcHAuZC50c1wiIC8+XG5cbm1vZHVsZSBUb21lZGVzY29udG9zIHtcblxuICAgIGV4cG9ydCBjbGFzcyBQcm9tb1NlcnZpY2Uge1xuXG4gICAgICAgIHByaXZhdGUgdXJsQmFzZSA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XG4gICAgICAgIC8vcHJpdmF0ZSB1cmxCYXNlID0gJ2h0dHA6Ly9sb2NhbGhvc3QnO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgJGh0dHA6IG5nLklIdHRwU2VydmljZSxcbiAgICAgICAgICAgIHByaXZhdGUgJHE6IG5nLklRU2VydmljZSkge1xuXG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgcGVzcXVpc2FyKCk6IG5nLklQcm9taXNlPGFueT4ge1xuICAgICAgICAgICAgdmFyIGRlZmVyID0gdGhpcy4kcS5kZWZlcigpO1xuICAgICAgICAgICAgdGhpcy4kaHR0cC5nZXQodGhpcy51cmxCYXNlICsgJzo4MDgxL3Byb21vcycpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgIH0sIChlcnJSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGRlZmVyLnJlamVjdChlcnJSZXNwb25zZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBkZWZlci5wcm9taXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIGdldFByb21vSW1hZ2VzKCk6IG5nLklQcm9taXNlPGFueT4ge1xuICAgICAgICAgICAgdmFyIGRlZmVyID0gdGhpcy4kcS5kZWZlcigpO1xuICAgICAgICAgICAgdGhpcy4kaHR0cC5nZXQodGhpcy51cmxCYXNlICsgJzo4MDgxL3Byb21vSW1hZ2VzJykudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBkZWZlci5yZXNvbHZlKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgICAgfSwgKGVyclJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgZGVmZXIucmVqZWN0KGVyclJlc3BvbnNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7XG4gICAgICAgIH1cblxuICAgIH1cbn1cblxuYXBwLnNlcnZpY2UoXCJQcm9tb1NlcnZpY2VcIiwgWyckaHR0cCcsICckcScsIFRvbWVkZXNjb250b3MuUHJvbW9TZXJ2aWNlXSk7IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2FwcC5kLnRzXCIgLz5cbnZhciBUb21lZGVzY29udG9zO1xuKGZ1bmN0aW9uIChUb21lZGVzY29udG9zKSB7XG4gIHZhciBQcm9tb1NlcnZpY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvL3ByaXZhdGUgdXJsQmFzZSA9ICdodHRwOi8vbG9jYWxob3N0JztcbiAgICAgIGZ1bmN0aW9uIFByb21vU2VydmljZSgkaHR0cCwgJHEpIHtcbiAgICAgICAgdGhpcy4kaHR0cCA9ICRodHRwO1xuICAgICAgICB0aGlzLiRxID0gJHE7XG4gICAgICAgIHRoaXMudXJsQmFzZSA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XG4gICAgICB9XG4gICAgICBQcm9tb1NlcnZpY2UucHJvdG90eXBlLnBlc3F1aXNhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRlZmVyID0gdGhpcy4kcS5kZWZlcigpO1xuICAgICAgICB0aGlzLiRodHRwLmdldCh0aGlzLnVybEJhc2UgKyAnOjgwODEvcHJvbW9zJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICBkZWZlci5yZXNvbHZlKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyUmVzcG9uc2UpIHtcbiAgICAgICAgICBkZWZlci5yZWplY3QoZXJyUmVzcG9uc2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlZmVyLnByb21pc2U7XG4gICAgICB9O1xuICAgICAgUHJvbW9TZXJ2aWNlLnByb3RvdHlwZS5nZXRQcm9tb0ltYWdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRlZmVyID0gdGhpcy4kcS5kZWZlcigpO1xuICAgICAgICB0aGlzLiRodHRwLmdldCh0aGlzLnVybEJhc2UgKyAnOjgwODEvcHJvbW9JbWFnZXMnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgIGRlZmVyLnJlc29sdmUocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJSZXNwb25zZSkge1xuICAgICAgICAgIGRlZmVyLnJlamVjdChlcnJSZXNwb25zZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGVmZXIucHJvbWlzZTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gUHJvbW9TZXJ2aWNlO1xuICAgIH0oKTtcbiAgVG9tZWRlc2NvbnRvcy5Qcm9tb1NlcnZpY2UgPSBQcm9tb1NlcnZpY2U7XG59KFRvbWVkZXNjb250b3MgfHwgKFRvbWVkZXNjb250b3MgPSB7fSkpKTtcbmFwcC5zZXJ2aWNlKCdQcm9tb1NlcnZpY2UnLCBbXG4gICckaHR0cCcsXG4gICckcScsXG4gIFRvbWVkZXNjb250b3MuUHJvbW9TZXJ2aWNlXG5dKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

var Tomedescontos;!function(Tomedescontos){var NotifyService=function(){function NotifyService($http,$q){this.$http=$http,this.$q=$q}return NotifyService.prototype.notifyNow=function(title,description,url){OneSignal.sendSelfNotification(title,description,url,"http://tomedescontos.com/assets/img/tdLogoBackground.png",{notificationType:"news-feature"},[{id:"like-button",text:"Like",icon:"http://i.imgur.com/N8SN8ZS.png",url:"https://example.com/?_osp=do_not_open"},{id:"read-more-button",text:"Read more",icon:"http://i.imgur.com/MIxJp1L.png",url:"https://example.com/?_osp=do_not_open"}])},NotifyService}();Tomedescontos.NotifyService=NotifyService}(Tomedescontos||(Tomedescontos={})),app.service("NotifyService",["$http","$q",Tomedescontos.NotifyService]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2VzL25vdGlmeS5zZXIudHMiLCJzZXJ2aWNlcy9ub3RpZnkuc2VyLmpzIl0sIm5hbWVzIjpbIlRvbWVkZXNjb250b3MiLCJOb3RpZnlTZXJ2aWNlIiwiJGh0dHAiLCIkcSIsInRoaXMiLCJwcm90b3R5cGUiLCJub3RpZnlOb3ciLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwidXJsIiwiT25lU2lnbmFsIiwic2VuZFNlbGZOb3RpZmljYXRpb24iLCJub3RpZmljYXRpb25UeXBlIiwiaWQiLCJ0ZXh0IiwiaWNvbiIsImFwcCIsInNlcnZpY2UiXSwibWFwcGluZ3MiOiJBQUVBLEdBQU9BLGdCQUFQLFNBQU9BLGVDQ0wsR0RDRUMsZUFBQSxXQ0FFLFFERUVBLGVBQUFDLE1BQTBDQyxJQ0QxQ0MsS0RDb0JGLE1BQUFBLE1DQXBCRSxLRENZRCxHQUFBQSxHQ2lCZCxNQWhCQUYsZURHU0ksVUFBQUMsVUFBUyxTQUFoQkMsTUFBc0JDLFlBQWFDLEtDRm5DQyxVRElJQyxxQkFBVUosTUFBb0JDLFlBQUFDLElBQUEsNERBQUFHLGlCQUFBLGtCQUcxQkMsR0FBQSxjQUNBQyxLQUFBLE9BQ0FDLEtBQUEsaUNBQ0FOLElBQUEsMENBR0FJLEdBQUEsbUJDSkpDLEtETVEsWUNMUkMsS0RNUSxpQ0NMUk4sSURPSyw0Q0NISlIsZ0JBRVhELGVBQWNDLGNET1VBLGVDTnhCRCxnQkRPa0JBLG1CQ05wQmdCLElBQUlDLFFBQVEsaUJBQ1YsUUFDQSxLQUNBakIsY0FBY0MiLCJmaWxlIjoic2VydmljZXMvbm90aWZ5LnNlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9hcHAuZC50c1wiIC8+XG5cbm1vZHVsZSBUb21lZGVzY29udG9zIHtcblxuICAgIGV4cG9ydCBjbGFzcyBOb3RpZnlTZXJ2aWNlIHtcblxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlICRodHRwOiBuZy5JSHR0cFNlcnZpY2UsXG4gICAgICAgICAgICBwcml2YXRlICRxOiBuZy5JUVNlcnZpY2UpIHtcblxuICAgICAgICB9XG5cbiAgICAgICAgcHVibGljIG5vdGlmeU5vdyh0aXRsZSwgZGVzY3JpcHRpb24sIHVybCk6IHZvaWQge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBPbmVTaWduYWwuc2VuZFNlbGZOb3RpZmljYXRpb24oXG5cbiAgICAgICAgICAgICAgICAvKiBUaXRsZSAoZGVmYXVsdHMgaWYgdW5zZXQpICovXG4gICAgICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICAgICAgLyogTWVzc2FnZSAoZGVmYXVsdHMgaWYgdW5zZXQpICovXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgLyogVVJMIChkZWZhdWx0cyBpZiB1bnNldCkgKi9cbiAgICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgICAgLyogSWNvbiAqL1xuICAgICAgICAgICAgICAgICdodHRwOi8vdG9tZWRlc2NvbnRvcy5jb20vYXNzZXRzL2ltZy90ZExvZ29CYWNrZ3JvdW5kLnBuZycsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvKiBBZGRpdGlvbmFsIGRhdGEgaGFzaCAqL1xuICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25UeXBlOiAnbmV3cy1mZWF0dXJlJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW3sgLyogQnV0dG9ucyAqL1xuICAgICAgICAgICAgICAgICAgICAvKiBDaG9vc2UgYW55IHVuaXF1ZSBpZGVudGlmaWVyIGZvciB5b3VyIGJ1dHRvbi4gVGhlIElEIG9mIHRoZSBjbGlja2VkIGJ1dHRvbiBpcyBwYXNzZWQgdG8geW91IHNvIHlvdSBjYW4gaWRlbnRpZnkgd2hpY2ggYnV0dG9uIGlzIGNsaWNrZWQgKi9cbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdsaWtlLWJ1dHRvbicsXG4gICAgICAgICAgICAgICAgICAgIC8qIFRoZSB0ZXh0IHRoZSBidXR0b24gc2hvdWxkIGRpc3BsYXkuIFN1cHBvcnRzIGVtb2ppcy4gKi9cbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0xpa2UnLFxuICAgICAgICAgICAgICAgICAgICAvKiBBIHZhbGlkIHB1YmxpY2x5IHJlYWNoYWJsZSBVUkwgdG8gYW4gaWNvbi4gS2VlcCB0aGlzIHNtYWxsIGJlY2F1c2UgaXQncyBkb3dubG9hZGVkIG9uIGVhY2ggbm90aWZpY2F0aW9uIGRpc3BsYXkuICovXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdodHRwOi8vaS5pbWd1ci5jb20vTjhTTjhaUy5wbmcnLFxuICAgICAgICAgICAgICAgICAgICAvKiBUaGUgVVJMIHRvIG9wZW4gd2hlbiB0aGlzIGFjdGlvbiBidXR0b24gaXMgY2xpY2tlZC4gU2VlIHRoZSBzZWN0aW9ucyBiZWxvdyBmb3Igc3BlY2lhbCBVUkxzIHRoYXQgcHJldmVudCBvcGVuaW5nIGFueSB3aW5kb3cuICovXG4gICAgICAgICAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vZXhhbXBsZS5jb20vP19vc3A9ZG9fbm90X29wZW4nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdyZWFkLW1vcmUtYnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdSZWFkIG1vcmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2h0dHA6Ly9pLmltZ3VyLmNvbS9NSXhKcDFMLnBuZycsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL2V4YW1wbGUuY29tLz9fb3NwPWRvX25vdF9vcGVuJ1xuICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgKTtcblxuXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmFwcC5zZXJ2aWNlKFwiTm90aWZ5U2VydmljZVwiLCBbJyRodHRwJywgJyRxJywgVG9tZWRlc2NvbnRvcy5Ob3RpZnlTZXJ2aWNlXSk7IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2FwcC5kLnRzXCIgLz5cbnZhciBUb21lZGVzY29udG9zO1xuKGZ1bmN0aW9uIChUb21lZGVzY29udG9zKSB7XG4gIHZhciBOb3RpZnlTZXJ2aWNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gTm90aWZ5U2VydmljZSgkaHR0cCwgJHEpIHtcbiAgICAgICAgdGhpcy4kaHR0cCA9ICRodHRwO1xuICAgICAgICB0aGlzLiRxID0gJHE7XG4gICAgICB9XG4gICAgICBOb3RpZnlTZXJ2aWNlLnByb3RvdHlwZS5ub3RpZnlOb3cgPSBmdW5jdGlvbiAodGl0bGUsIGRlc2NyaXB0aW9uLCB1cmwpIHtcbiAgICAgICAgT25lU2lnbmFsLnNlbmRTZWxmTm90aWZpY2F0aW9uKHRpdGxlLCBkZXNjcmlwdGlvbiwgdXJsLCAnaHR0cDovL3RvbWVkZXNjb250b3MuY29tL2Fzc2V0cy9pbWcvdGRMb2dvQmFja2dyb3VuZC5wbmcnLCB7IG5vdGlmaWNhdGlvblR5cGU6ICduZXdzLWZlYXR1cmUnIH0sIFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ2xpa2UtYnV0dG9uJyxcbiAgICAgICAgICAgIHRleHQ6ICdMaWtlJyxcbiAgICAgICAgICAgIGljb246ICdodHRwOi8vaS5pbWd1ci5jb20vTjhTTjhaUy5wbmcnLFxuICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS8/X29zcD1kb19ub3Rfb3BlbidcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAncmVhZC1tb3JlLWJ1dHRvbicsXG4gICAgICAgICAgICB0ZXh0OiAnUmVhZCBtb3JlJyxcbiAgICAgICAgICAgIGljb246ICdodHRwOi8vaS5pbWd1ci5jb20vTUl4SnAxTC5wbmcnLFxuICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS8/X29zcD1kb19ub3Rfb3BlbidcbiAgICAgICAgICB9XG4gICAgICAgIF0pO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBOb3RpZnlTZXJ2aWNlO1xuICAgIH0oKTtcbiAgVG9tZWRlc2NvbnRvcy5Ob3RpZnlTZXJ2aWNlID0gTm90aWZ5U2VydmljZTtcbn0oVG9tZWRlc2NvbnRvcyB8fCAoVG9tZWRlc2NvbnRvcyA9IHt9KSkpO1xuYXBwLnNlcnZpY2UoJ05vdGlmeVNlcnZpY2UnLCBbXG4gICckaHR0cCcsXG4gICckcScsXG4gIFRvbWVkZXNjb250b3MuTm90aWZ5U2VydmljZVxuXSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

var Tomedescontos;!function(Tomedescontos){var MenuDirective=function(){function MenuDirective($http){this.$http=$http,this.restrict="E",this.templateUrl="assets/pages/templates/menu.tpl.html"}return MenuDirective.factory=function($http){return new MenuDirective($http)},MenuDirective}();Tomedescontos.MenuDirective=MenuDirective}(Tomedescontos||(Tomedescontos={})),app.directive("menu",["$http",Tomedescontos.MenuDirective.factory]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbnUvbWVudS5kaXIudHMiLCJtZW51L21lbnUuZGlyLmpzIl0sIm5hbWVzIjpbIlRvbWVkZXNjb250b3MiLCJNZW51RGlyZWN0aXZlIiwiJGh0dHAiLCJ0aGlzIiwicmVzdHJpY3QiLCJ0ZW1wbGF0ZVVybCIsImZhY3RvcnkiLCJhcHAiLCJkaXJlY3RpdmUiXSwibWFwcGluZ3MiOiJBQUVBLEdBQU9BLGdCQUFQLFNBQU9BLGVDQ0wsR0RDRUMsZUFBQSxXQ0FFLFFES0VBLGVBQUFDLE9DSkFDLEtESW9CRCxNQUFBQSxNQ0hwQkMsS0RBT0MsU0FBQSxJQ0NQRCxLREFPRSxZQUFBLHVDQ0tULE1BSEFKLGVESWdCSyxRQUFPLFNBQXJCSixPQ0hBLE1ESUksSUFBT0QsZUFBSUMsUUFHbkJELGdCQ0hGRCxlRFZlQyxjQUFhQSxlQWU3QkQsZ0JBakJtQkEsbUJBbUJwQk8sSUFBSUMsVUFBVSxRQ0paLFFBQ0FSLGNBQWNDLGNBQWNLIiwiZmlsZSI6Im1lbnUvbWVudS5kaXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vYXBwLmQudHNcIiAvPlxuXG5tb2R1bGUgVG9tZWRlc2NvbnRvcyB7XG5cbiAgICBleHBvcnQgY2xhc3MgTWVudURpcmVjdGl2ZSBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xuXG4gICAgICAgIHB1YmxpYyByZXN0cmljdDogc3RyaW5nID0gJ0UnO1xuICAgICAgICBwdWJsaWMgdGVtcGxhdGVVcmw6IHN0cmluZyA9ICdhc3NldHMvcGFnZXMvdGVtcGxhdGVzL21lbnUudHBsLmh0bWwnO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgJGh0dHA6IG5nLklIdHRwU2VydmljZSkge1xuXG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGZhY3RvcnkoJGh0dHA6IG5nLklIdHRwU2VydmljZSk6IE1lbnVEaXJlY3RpdmUge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNZW51RGlyZWN0aXZlKCRodHRwKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG59XG5cbmFwcC5kaXJlY3RpdmUoJ21lbnUnLCBbJyRodHRwJywgVG9tZWRlc2NvbnRvcy5NZW51RGlyZWN0aXZlLmZhY3RvcnldKTsiLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vYXBwLmQudHNcIiAvPlxudmFyIFRvbWVkZXNjb250b3M7XG4oZnVuY3Rpb24gKFRvbWVkZXNjb250b3MpIHtcbiAgdmFyIE1lbnVEaXJlY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBNZW51RGlyZWN0aXZlKCRodHRwKSB7XG4gICAgICAgIHRoaXMuJGh0dHAgPSAkaHR0cDtcbiAgICAgICAgdGhpcy5yZXN0cmljdCA9ICdFJztcbiAgICAgICAgdGhpcy50ZW1wbGF0ZVVybCA9ICdhc3NldHMvcGFnZXMvdGVtcGxhdGVzL21lbnUudHBsLmh0bWwnO1xuICAgICAgfVxuICAgICAgTWVudURpcmVjdGl2ZS5mYWN0b3J5ID0gZnVuY3Rpb24gKCRodHRwKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWVudURpcmVjdGl2ZSgkaHR0cCk7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIE1lbnVEaXJlY3RpdmU7XG4gICAgfSgpO1xuICBUb21lZGVzY29udG9zLk1lbnVEaXJlY3RpdmUgPSBNZW51RGlyZWN0aXZlO1xufShUb21lZGVzY29udG9zIHx8IChUb21lZGVzY29udG9zID0ge30pKSk7XG5hcHAuZGlyZWN0aXZlKCdtZW51JywgW1xuICAnJGh0dHAnLFxuICBUb21lZGVzY29udG9zLk1lbnVEaXJlY3RpdmUuZmFjdG9yeVxuXSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

var Tomedescontos;!function(Tomedescontos){var SidebarDirective=function(){function SidebarDirective($http){this.$http=$http,this.restrict="E",this.templateUrl="assets/pages/templates/sidebar.tpl.html"}return SidebarDirective.factory=function($http){return new SidebarDirective($http)},SidebarDirective}();Tomedescontos.SidebarDirective=SidebarDirective}(Tomedescontos||(Tomedescontos={})),app.directive("sidebar",["$http",Tomedescontos.SidebarDirective.factory]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpZGViYXIvc2lkZWJhci5kaXIudHMiLCJzaWRlYmFyL3NpZGViYXIuZGlyLmpzIl0sIm5hbWVzIjpbIlRvbWVkZXNjb250b3MiLCJTaWRlYmFyRGlyZWN0aXZlIiwiJGh0dHAiLCJ0aGlzIiwicmVzdHJpY3QiLCJ0ZW1wbGF0ZVVybCIsImZhY3RvcnkiLCJhcHAiLCJkaXJlY3RpdmUiXSwibWFwcGluZ3MiOiJBQUVBLEdBQU9BLGdCQUFQLFNBQU9BLGVDQ0wsR0RDRUMsa0JBQUEsV0NBRSxRREtFQSxrQkFBQUMsT0NKQUMsS0RJb0JELE1BQUFBLE1DSHBCQyxLREFPQyxTQUFBLElDQ1BELEtEQU9FLFlBQUEsMENDS1QsTUFIQUosa0JESWdCSyxRQUFPLFNBQXJCSixPQ0hBLE1ESUksSUFBT0Qsa0JBQUlDLFFBR25CRCxtQkNIRkQsZURWZUMsaUJBQWdCQSxrQkFlaENELGdCQWpCbUJBLG1CQW1CcEJPLElBQUlDLFVBQVUsV0NKWixRQUNBUixjQUFjQyxpQkFBaUJLIiwiZmlsZSI6InNpZGViYXIvc2lkZWJhci5kaXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vYXBwLmQudHNcIiAvPlxuXG5tb2R1bGUgVG9tZWRlc2NvbnRvcyB7XG5cbiAgICBleHBvcnQgY2xhc3MgU2lkZWJhckRpcmVjdGl2ZSBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xuXG4gICAgICAgIHB1YmxpYyByZXN0cmljdDogc3RyaW5nID0gJ0UnO1xuICAgICAgICBwdWJsaWMgdGVtcGxhdGVVcmw6IHN0cmluZyA9ICdhc3NldHMvcGFnZXMvdGVtcGxhdGVzL3NpZGViYXIudHBsLmh0bWwnO1xuXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgJGh0dHA6IG5nLklIdHRwU2VydmljZSkge1xuXG4gICAgICAgIH1cblxuICAgICAgICBwdWJsaWMgc3RhdGljIGZhY3RvcnkoJGh0dHA6IG5nLklIdHRwU2VydmljZSk6IFNpZGViYXJEaXJlY3RpdmUge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTaWRlYmFyRGlyZWN0aXZlKCRodHRwKTtcbiAgICAgICAgfVxuXG4gICAgfSBcblxufVxuXG5hcHAuZGlyZWN0aXZlKCdzaWRlYmFyJywgWyckaHR0cCcsIFRvbWVkZXNjb250b3MuU2lkZWJhckRpcmVjdGl2ZS5mYWN0b3J5XSk7IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2FwcC5kLnRzXCIgLz5cbnZhciBUb21lZGVzY29udG9zO1xuKGZ1bmN0aW9uIChUb21lZGVzY29udG9zKSB7XG4gIHZhciBTaWRlYmFyRGlyZWN0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gU2lkZWJhckRpcmVjdGl2ZSgkaHR0cCkge1xuICAgICAgICB0aGlzLiRodHRwID0gJGh0dHA7XG4gICAgICAgIHRoaXMucmVzdHJpY3QgPSAnRSc7XG4gICAgICAgIHRoaXMudGVtcGxhdGVVcmwgPSAnYXNzZXRzL3BhZ2VzL3RlbXBsYXRlcy9zaWRlYmFyLnRwbC5odG1sJztcbiAgICAgIH1cbiAgICAgIFNpZGViYXJEaXJlY3RpdmUuZmFjdG9yeSA9IGZ1bmN0aW9uICgkaHR0cCkge1xuICAgICAgICByZXR1cm4gbmV3IFNpZGViYXJEaXJlY3RpdmUoJGh0dHApO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBTaWRlYmFyRGlyZWN0aXZlO1xuICAgIH0oKTtcbiAgVG9tZWRlc2NvbnRvcy5TaWRlYmFyRGlyZWN0aXZlID0gU2lkZWJhckRpcmVjdGl2ZTtcbn0oVG9tZWRlc2NvbnRvcyB8fCAoVG9tZWRlc2NvbnRvcyA9IHt9KSkpO1xuYXBwLmRpcmVjdGl2ZSgnc2lkZWJhcicsIFtcbiAgJyRodHRwJyxcbiAgVG9tZWRlc2NvbnRvcy5TaWRlYmFyRGlyZWN0aXZlLmZhY3Rvcnlcbl0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
